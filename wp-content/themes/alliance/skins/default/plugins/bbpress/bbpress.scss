/* BBPress and BuddyPress styles
----------------------------------------------------------------- */
@import "../../../../css/_mixins.scss";
@import "../../../../css/_theme-vars.scss";
@import "../../css/_skin-vars.scss";


.buddypress .buddypress-wrap.alignwide { 
    width: auto;
    left: auto; 
}


/* Buttons 
--------------------------------------------- */
div#buddypress #aw-whats-new-submit,
div#buddypress #avatar-crop-actions a.button,
div#buddypress .avatar-history-actions .avatar-history-action,
div#buddypress .bp-profile-button .button,

div#buddypress .activity-comments form input,
div#buddypress .activity-comments form div.ac-reply-content a,
div#buddypress .activity-list li.load-more a, 
div#buddypress .activity-list li.load-newest a, 

div#buddypress .standard-form div.submit input,
div#buddypress #bp-browse-button,
div#buddypress #bp-delete-cover-image,
div#buddypress #bp-delete-avatar,
div#buddypress #notification-bulk-manage,

div#buddypress #friend-list a.button:not(.remove),
div#buddypress #members-list a.friendship-button,
div#buddypress #members_search_submit,
div#buddypress #groups_search_submit,

div#buddypress #bbp_search_submit,
div#buddypress #drag-drop-area input[type="button"],
div#buddypress #subnav #bp-create-doc-button,
div#buddypress #group-settings-form input[type="submit"],

div#buddypress #item-header-content .group-button a,
div#buddypress #item-header #item-header-content #item-buttons a:not(.group-button),

div#buddypress #item-body #members-list li .action a, 
div#buddypress #item-body #friend-list li .action a, 
div#buddypress #item-body #admins-list li .action a,

div#buddypress #item-body > .rtmedia-container .rtm-load-more a,
div#buddypress #rt_media_comment_submit,
div#buddypress #rtmedia-add-media-button-post-update,
div#buddypress .rtmedia-comment-media-upload,
div#buddypress .rtmedia-item-actions button,
div#buddypress .rtmedia-editor-buttons .button,
div#buddypress #rtmedia_media_single_edit input[type="button"],
div#buddypress #rtmedia_media_single_edit .button,
.rtmedia-popup #rtmedia_create_new_album,
div#buddypress .wp_attachment_image .rtmedia-image-edit,

div#bbpress-forums #subscription-toggle a,
div#bbpress-forums #favorite-toggle a {
	@include theme_button_filled;

	&:hover,
	&:focus {
		@include theme_button_colors_hover;
	}
}

/* Disabled */
div#buddypress .avatar-history-actions .avatar-history-action.disabled {
	color: var(--theme-color-text) !important;
	border-color: var(--theme-color-bd_color) !important;
	background-color: var(--theme-color-bd_color) !important;
	cursor: default;
}

/* Small */
div#buddypress .bp-profile-button .button,
div#buddypress #avatar-crop-actions a.button,
div#buddypress .avatar-history-actions .avatar-history-action,
div#buddypress #item-body #members-list li .action a, 
div#buddypress #item-body #friend-list li .action a, 
div#buddypress #item-body #admins-list li .action a {		    
	font-size: 10px !important;
	letter-spacing: 0.08em !important;
    padding: 5px 1.5em;
}
div#buddypress #item-header #item-header-content #item-buttons a:not(.group-button) {		
	font-size: 11px;
	letter-spacing: 0.08em;
	padding: 7.5px 2.15em;
}
div#buddypress #item-header-content .group-button a,
div#buddypress #rtmedia-add-media-button-post-update,
div#buddypress #aw-whats-new-submit,
div#buddypress #subnav #bp-create-doc-button,
div#bbpress-forums #subscription-toggle a,
div#bbpress-forums #favorite-toggle a,
.rtmedia-popup #rtmedia_create_new_album {
	padding: 10px var(--theme-var-btn_padding3);
}

/* Link 2 */
div#buddypress #aw-whats-new-submit,
div#buddypress .activity-comments form input,
div#buddypress #rt_media_comment_submit,
div#buddypress #item-header-content .group-button a,
div#bbpress-forums #subscription-toggle .is-subscribed a,
div#bbpress-forums #favorite-toggle .is-favorite a,
div#buddypress #bp-delete-cover-image,
div#buddypress #bp-delete-avatar,
div#buddypress #drag-drop-area input[type="button"].start-media-upload  {
	@include theme_button_colors_style_link2;

	&:hover,
	&:focus {
		@include theme_button_colors_hover_style_link2;
	}
}

/* Link 3 */
div#buddypress .activity-comments form div.ac-reply-content a {
	@include theme_button_colors_style_link3;

	&:hover,
	&:focus {
		@include theme_button_colors_hover_style_link3;
	}
}

/* Link 5 */
div#buddypress #subnav #bp-create-doc-button {
	@include theme_button_colors_style_link5;

	&:hover,
	&:focus {
		@include theme_button_colors_hover_style_link5;
	}
}

/* Border */
div#buddypress #item-header #item-header-content #item-buttons a:not(.group-button),
div#buddypress #item-body #members-list li .action a, 
div#buddypress #item-body #friend-list li .action a, 
div#buddypress #item-body #admins-list li .action a {
	border-width: 1px !important;
	@include theme_button_colors_style_border;

	&:hover,
	&:focus {
		@include theme_button_colors_hover_style_border;
	}
}


/* Inputs & Forms
--------------------------------------------- */
div#buddypress .dir-search input[type="text"],
div#buddypress .groups-members-search input[type="text"],
div#buddypress .standard-form input[type="text"],
div#buddypress .standard-form textarea,
div#buddypress .standard-form select,
div#buddypress .rtmedia-item-comments textarea,
div#bbpress-forums div.bbp-the-content-wrapper textarea.bbp-the-conten,
div#bbpress-forums fieldset.bbp-form input[type="password"], 
div#bbpress-forums fieldset.bbp-form input[type="text"], 
div#bbpress-forums fieldset.bbp-form select,
div#buddypress .standard-form input[type="email"],
div#buddypress .standard-form input[type="text"],
div#buddypress .standard-form input[type="password"] {
	@include theme_field_template;
	@include theme_field_colors;
	min-height: unset;
	height: auto;

	&:hover,
	&:focus {
		@include theme_field_colors_hover;
	}
}
div#buddypress .field-visibility-settings, 
div#buddypress .field-visibility-settings-notoggle, 
div#buddypress .field-visibility-settings-toggle {
	color: inherit;
}

/* Edit profile form */
div#buddypress .standard-form,
/* Topic tag form */
div#bbpress-forums .bbp-topic-tag-form form,
/* Edit media */
div#buddypress .rtm-form,
/* Create album */
.rtmedia-popup #rtm-modal-container {
	@include theme_form_fields;

	/* Radio and Checkbox */
	.checkbox, 
	.radio {
    	margin-bottom: var(--theme-var-grid_gap);

    	label.radio_label,
    	label.checkbox_label {
			margin-bottom: 0;

			&.checked {
				color: var(--theme-color-text_dark);
			}
			& + label.radio_label,
			& + label.checkbox_label {
				margin-top: 15px;
			}
    	}
    	label:not(.radio_label):not(.checkbox_label) {    		
			margin: 0;
			color: inherit;	
			font-size: inherit;
    	}
		label {
			margin-top: 0;

			strong {
				font-weight: inherit;
			}
		}
		ul, ol {
		    margin: 0 0 0 15px;

		    li {
		    	margin: 0;
		    }
		    li + li {
		    	margin-top: 0.34em;
		    }
		}
		ul + label,
		ol + label  {
		    margin-top: 10px;
		}
		label + ul,
		label + ol {
			margin-top: 0.7em;
			font-size: 12px;
		}
	}
	p { 
		label.radio_label,
		label.checkbox_label {
			margin: 0;
		} 
	}

	/* Title label */
	legend,
	.field-visibility-settings-notoggle {
	    font-size: inherit;
	    line-height: inherit;
		font-weight: 500;
	    margin: var(--theme-var-label_margin);
	    display: block;
	    color: var(--theme-color-text_dark);

	    strong {
	    	font-weight: inherit;
	    }
	}

	/* Status */
	.bp-avatar-status {
    	margin-bottom: var(--theme-var-grid_gap) !important;

	    &:empty {
	    	display: none;
	    }
	}

	/* Columns */
	.left-menu, 
	.main-column {
    	margin-bottom: var(--theme-var-grid_gap);
	}
}
/* Edit profile form */
div#buddypress .standard-form,
/* Edit media */
div#buddypress .rtm-form,
/* Create album */
.rtmedia-popup #rtm-modal-container {
	/* Submit */
	.submit {
	    margin: 0;
	    padding: 0;
	    float: none;

	    input[type="button"] {
	    	margin-right: 11px;
	    }
	}
}

/* Forum - new post form */
div#bbpress-forums #new-post {
	@include theme_form_fields;

	/* Fieldset */
	fieldset fieldset {
    	legend {
    		margin-bottom: 0;
    	}
	}

	/* Submit */
	.bbp-submit-wrapper {
	    margin: 0;
	    padding: 0;
	    float: none;
	}
}

/* Forum - move reply form */
div#bbpress-forums #move_reply,
/* Forum - split reply form */
div#bbpress-forums #split_topic {
    margin-top: var(--theme-var-grid_gap);
	@include theme_form_fields;

    /* Fieldset */	
    fieldset {
		margin: 0;
		padding: 0;
		border: none;
    }

	/* Title */
	legend {
		padding: 0;
		margin: 0 0 var(--theme-var-grid_gap);
	}

	/* Submit */
	.bbp-submit-wrapper {
	    margin: 0;
	    padding: 0;
	    float: none;
	}

	/* Message */
	.bbp-template-notice {
    	margin-bottom: var(--theme-var-grid_gap) !important;
	}
}


/* Drag and drop  
--------------------------------------------- */
.drag-drop #drag-drop-area {
	border-color: var(--theme-color-bd_color);

	.drag-drop-inside p {
	    font-size: inherit;
	    color: inherit; 

		&.drag-drop-buttons {
		    margin-top: 15px;
		}
	}
}

 
/* Messages
--------------------------------------------- */
div#buddypress #message, 
div#buddypress #sitewide-notice,
div#buddypress #bp-webcam-message,
div#buddypress .bp-cover-image-status p,
div#buddypress .bp-avatar-status p,
div#buddypress .media-edit-messge,
div#buddypress .notice,
div#buddypress .bp-avatar p.warning,
div#bbpress-forums .bbp-template-notice,
div#buddypress .rtmedia-gallery-message-box span,
div#buddypress .rtmedia-nodata {
	@include theme_messages;

	&[class*="error"],
	&[class*="nodata"] {
		@include theme_messages_error;
	}
	&[class*="info"] {
		@include theme_messages_info;
	}
	&[class*="warning"],
	&[class*="notice"] {
		@include theme_messages_notice;
	}
	&[class*="updated"],
	&[class*="success"] {
		@include theme_messages_success;
	}
}
div#buddypress #template-notices #message {
	margin: 0 calc( var(--theme-var-grid_gap) + ( var(--theme-var-grid_gap_koef) * 15px ) ) var(--theme-var-grid_gap) calc( var(--theme-var-grid_gap) + ( var(--theme-var-grid_gap_koef) * 15px ) ) !important; // replace 0 45px 30px 45px
}
div#buddypress #item-body #subnav + #message,
div#buddypress #item-body .friends #message,
div#buddypress #item-body .groups #message,
div#buddypress #groups-directory-form .groups #message,
div#buddypress #item-body #group-settings-form h2:not(.bp-screen-reader-text) + #message,
div#buddypress .bp-cover-image-status,
.group-invites div#buddypress #item-body > #message:first-child,

div#bbpress-forums div.bbp-topic-tags + .bbp-template-notice,
div#bbpress-forums .bbp-user-section .bbp-template-notice,
div#bbpress-forums #subscription-toggle + .bbp-template-notice,
div#bbpress-forums #favorite-toggle + .bbp-template-notice,
div#bbpress-forums .bbp-template-notice + .bbp-template-notice,
div#bbpress-forums h2 + div#bbpress-forums > .bbp-template-notice,
div#bbpress-forums .bbp-breadcrumb + .bbp-template-notice,
div#bbpress-forums .bbp-topic-tag-form .bbp-template-notice + form,

div#buddypress #group-create-tabs + #template-notices,
div#buddypress #members-dir-list > #message:first-child,

div#buddypress #item-body #subnav ~ .media-edit-messge,
div#buddypress .bp-uploader-window + p.warning,
div#buddypress .rtm-load-more + .rtmedia-nodata {
	margin-top: var(--theme-var-grid_gap) !important;	
}
div#buddypress #whats-new-form > #message:first-child,

div#bbpress-forums .bbp-reply-form .bbp-form legend + .bbp-template-notice, 
div#bbpress-forums .bbp-topic-form .bbp-form legend + .bbp-template-notice,

div#buddypress .notice {
	margin-bottom: var(--theme-var-grid_gap) !important;	
}


/* Table  
--------------------------------------------- */
div#buddypress table.forum tr td, 
div#buddypress table.messages-notices tr td, 
div#buddypress table.notifications-settings tr td, 
div#buddypress table.profile-fields tr td, 
div#buddypress table.notifications tr td, 
div#buddypress table.profile-settings tr td, 
div#buddypress table.wp-profile-fields tr td {
	padding: 15px 10px 13px;

	a {
		color: var(--theme-color-text_dark);

		&:hover,
		&:focus {
			color: var(--theme-color-accent_link);
		}
	}	
	&.label {
	    border-right: none;
	    font-weight: 500;
		color: var(--theme-color-text_dark);
	}
} 
div#buddypress table.forum tr th, 
div#buddypress table.messages-notices tr th, 
div#buddypress table.notifications tr th, 
div#buddypress table.notifications-settings tr th, 
div#buddypress table.profile-fields tr th, 
div#buddypress table.wp-profile-fields tr th {
	padding: 17px 0 14px;
}
div#buddypress table.notification-settings td:first-child + td, 
div#buddypress table.notifications td:first-child + td{
    border-left: none;
}


/* Pagination, Breadcrumbs and Load more button
--------------------------------------------- */
div#buddypress .pagination,
div#buddypress .bbp-pagination,
div#bbpress-forums .bbp-pagination {
    color: inherit;
    font-size: 14px;
    margin: var(--theme-var-grid_gap) 0 0;
    padding: 0;
    float: none;
	overflow: hidden;
    
    .pag-count {
	    margin-left: 0;
	}
	.bbp-pagination-count {
		border: none;
	}
	.bbp-pagination-links,
	.pagination-links {
		margin-right: 0;

		a,
		span.current {
			@include font(14px, inherit, 400);
			border: none;
			padding: 0;
			margin: 0 0 0 13px;
			color: var(--theme-color-text);
			@include transition-colors;

			&:hover {
				font-weight: inherit;
				color: var(--theme-color-accent_link2);
				background-color: transparent;
			}
		}
		span.current {
			opacity: 1;
			background-color: transparent;
			border: none;
			color: var(--theme-color-accent_link2);
		}
	}
}
div#bbpress-forums {
	.bbp-search-form + div.bbp-breadcrumb, 
	.bbp-search-form + div.bbp-topic-tags {
	    padding: 14px 0;
	}

	div.bbp-breadcrumb, 
	div.bbp-topic-tags {
		font-size: 14px;
		float: none;
		margin: 0;

		a {
			font-weight: 500;
			color: var(--theme-color-accent_link);

			&:hover,
			&:focus {
				color: var(--theme-color-accent_hover);
			}
		}
		p {
		    margin: 0;
		}
		.bbp-breadcrumb-sep {
			color: var(--theme-color-text_dark);
			margin: 0 4px;
			display: inline-block;
			font-size: 15px;
		}
	}
	div.bbp-topic-tags {
    	margin-top: var(--theme-var-grid_gap);
	}
}
div#buddypress .activity-list li.load-more, 
div#buddypress .activity-list li.load-newest {
	background: transparent;
	font-size: inherit;
	padding: 0;
	border: none;
    margin: var(--theme-var-grid_gap) 0 0;
    overflow: visible;
}
div#buddypress .activity-list li.load-more a, 
div#buddypress .activity-list li.load-newest a {
    font-size: 13px !important;
    padding: 16px 3.85em !important;
    width: 100%;
}


/* Profile header
--------------------------------------------- */
div#buddypress #item-header {
    background-color: var(--theme-color-content_bg);

    /* Cover image */
	#header-cover-image {
		min-height: 346px;
		max-height: 346px;
	}

	#item-header-cover-image {
		padding: 25.7em calc( var(--theme-var-grid_gap) + ( var(--theme-var-grid_gap_koef) * 16px ) ) calc( var(--theme-var-grid_gap) + ( var(--theme-var-grid_gap_koef) * 16px ) ); // replace 25.7em 46px 46px
		display: flex;
		flex-direction: row;

		#item-header-avatar {
			float: none;
			margin: -5.46em var(--theme-var-grid_gap) 0 0;
			min-width: 155px;

			img.avatar {
			    border: none;
			    float: none;
			    margin: 0;
			    width: 155px;
			}
		}

		#item-header-content {
		    float: none;
		    width: 100%;
		    margin: 0 0 11px 0;

		    /* Name */
			.user-publicname {   
				display: block;
				margin-top: 0;
				margin-bottom: 6px;
			}
			.user-publicname {
				text-shadow: none;
				color: var(--theme-color-text_dark);
			}

			/* Buttons */
			#item-buttons {
				float: right;
				margin: 0;
				padding: 0;
				text-align: right;
				transform: translateY(-5px);

				.generic-button {
					float: none;
					display: inline-block;
				    margin: 0 0 0 9px;
				}
			}

			.user-meta {
				white-space: nowrap;
			}

			/* Username */
			.user-nicename {   
				display: inline-block;
				margin-bottom: 0;
			}
			.user-nicename a, 
			.user-nicename {
				@include font(14px, inherit, 400);
				text-shadow: none;
				color: var(--theme-color-text_light);
			}

			/* Activity */
			.activity {
				font-size: 14px;
				display: inline-block;
				color: var(--theme-color-text_light);
			}
			.user-nicename + .activity:before,
			.highlight + .activity:before {
			    content: '';
			    display: inline-block;
			    width: 4px;
			    height: 4px;
			    @include border-round();
			    background-color: var(--theme-color-text_light);;
			    margin: 0 10px 2px;
			    vertical-align: middle;
			}

			/* Highlight */
			.highlight {
				font-size: 14px;
				display: inline-block;
				color: var(--theme-color-text_light);
			}

			/* Meta */
			#item-meta {
				font-size: 14px;
				margin-bottom: 0;
				padding-bottom: 0;
				color: inherit;
				display: none;
			}
		}
	}
}


/* Profile navigation
--------------------------------------------- */
div#buddypress #item-nav,
div#buddypress > .activity-type-tabs {
	position: relative;
	overflow: hidden;
    padding: 19px calc( var(--theme-var-grid_gap) + ( var(--theme-var-grid_gap_koef) * 15px ) ) calc( var(--theme-var-sm_grid_gap) + ( var(--theme-var-grid_gap_koef) * 1px ) ); // replace 19px 45px 21px
    background-color: var(--theme-color-navigate_bg);

    .item-list-tabs {
	    overflow: visible;
	}
    ul {
    	overflow: hidden;
    	margin-bottom: -10px;

    	li {
	    	@include font(13px, 19px, 500); 
	    	min-height: 20.5px;
	    	margin-right: calc( var(--theme-var-sm_grid_gap) + ( var(--theme-var-grid_gap_koef) * 2px ) ); // replace 22px
	    	margin-top: 1px;
    		margin-bottom: 10px;
	    	text-indent: 0;

	    	a {
	    		padding: 0;
	    	}
			&.current a, 
			&.selected a, 
			a:hover {
	    		color: var(--theme-color-accent_link2);
				background-color: inherit;
				opacity: inherit;
				font-weight: inherit;
			}
	    	a span {
	    		@include font(10px, 16px, 500); 
			    letter-spacing: 0;
			    text-indent: 0;
			    border: none;
			    padding: 2px 11px;
			    margin-top: -2px;
				margin-left: 3px;
			    display: inline-block;
			    @include border-radius(21px);
	    		color: var(--theme-color-accent_text);
	    		background-color: var(--theme-color-accent_link4) !important;
			}
	    }
    }
}


/* Profile body
--------------------------------------------- */
div#buddypress #item-body {
	padding: 0;
	margin: 0;
}


/* New post form
--------------------------------------------- */
div#buddypress #item-body #whats-new-form,
div#buddypress > form#whats-new-form {
	/* Avatar */
	#whats-new-avatar {
		z-index: 3;
		position: relative;
		padding: 12px 13px 12px calc( var(--theme-var-sm_grid_gap) + ( var(--theme-var-grid_gap_koef) * 2px ) ); // replace 12px 13px 12px 22px
		border: 1px solid var(--theme-color-bd_color);
		border-width: 1px 0 0 1px;
		@include border-radius(5px 0 0 0);
		background-color: var(--theme-color-navigate_bg);

		a img {
			width: 41px;
	  		@include border-round;
		}
	}

	/* User greeting */
	.activity-greeting {
		z-index: 2;
		position: relative;
		@include font(14px, inherit, 600);
		color: var(--theme-color-text_dark);
		display: block;
		margin: 0;
		padding: calc( var(--theme-var-sm_grid_gap) + ( var(--theme-var-grid_gap_koef) * 1px ) ) 20px 20px 20px; // replace 21px 20px 20px 20px
		border: 1px solid var(--theme-color-bd_color);
		border-width: 1px 1px 0 1px;
		@include border-radius(5px 5px 0 0);
		color: var(--theme-color-text_dark);
		background-color: var(--theme-color-navigate_bg);
		box-shadow: 0 5px 30px rgba(0, 0, 0, 0.04);
	}

	/* Content */
	#whats-new-content {
		z-index: 4;
		position: relative;
	    margin-left: 0;
	    padding: 0;
		@include border-radius(0 0 5px 5px);
		border: 1px solid var(--theme-color-bd_color);
		border-width: 1px;
		background-color: var(--theme-color-input_bg_color);
		box-shadow: 0 12px 12px rgba(0, 0, 0, 0.02);

		textarea:not(.rtm-upload-edit-desc) {
			font-size: 15px;
			padding: calc( var(--theme-var-sm_grid_gap) + ( var(--theme-var-grid_gap_koef) * 1px ) ) calc( var(--theme-var-sm_grid_gap) + ( var(--theme-var-grid_gap_koef) * 2px ) ); // replace 21px 22px
			border: none;
			color: var(--theme-color-input_text) !important;
			background-color: transparent;
			box-shadow: none;			
			@include border-sharp;

			&:hover,
			&:active {
				color: var(--theme-color-input_dark) !important;
			}
		}
		#rtm-drop-files-title {
			box-sizing: border-box;
		}

		/* Buttons */
		#whats-new-options {
		    overflow: visible;
		    padding: 0 calc( var(--theme-var-sm_grid_gap) + ( var(--theme-var-grid_gap_koef) * 2px ) ) 20px; // replace 0 22px 20px

		    #rtmedia-add-media-button-post-update {
		    	margin-bottom: 0;
		    }

		     #rtmedia_uploader_filelist {
			    padding-top: 20px;
			    margin-bottom: 0;

			    canvas {
			    	height: auto;
			    }
			}

			#whats-new-post-in-box {
				white-space: nowrap;

				select {
					font-size: 13px;
					line-height: 19px;
					margin: 0 0 0 10px;
					border-color: var(--theme-color-input_bd_color);
					padding-top: 10px;
					padding-bottom: 10px;
					width: calc(100% - 10px);
				}
			}
		}
	}
}
.my-account.just-me div#buddypress #item-body #whats-new-form,
.group-home div#buddypress #item-body #whats-new-form {
	margin-top: var(--theme-var-grid_gap);
}


/* Filters
--------------------------------------------- */ 
div#buddypress #item-body #subnav,
div#buddypress > #subnav {
	z-index: 2;
	position: relative;
	margin: var(--theme-var-grid_gap) 0 0 !important;
	
	& > ul {
		display: flex;
		align-items: flex-end;
		flex-wrap: wrap;
	}
	& > ul > li#activity-groups-personal-li,
	& > ul > li#activity-filter-select,
	& > ul > li#read-personal-li,
	& > ul > li#members-order-select,
	& > ul > li#groups-order-select,
	& > ul > li#group_members-order-select,
	& > ul > li.groups-members-search,
	& > ul > li#edited-personal-li,
	& > ul > li#requests-personal-li,
	& > ul > li#invites-personal-li,
	& > ul > li.feed,
	& > ul > li:last-child,
	& > ul#bp-docs-all-docs > li:last-of-type {
		padding-right: 0;
	} 
	& > ul > li.groups-members-search {
		border-bottom: none;
	}
	& > ul > li {
		padding-right: calc( var(--theme-var-sm_grid_gap) + ( var(--theme-var-grid_gap_koef) * 6px ) ); // replace 26px
		border-bottom: 1px solid var(--theme-color-bd_color);
		@include transition-colors;
		text-indent: 0;
		float: none;
		margin: 0;

		a {
			@include font(13px, 1em, 500);
			color: var(--theme-color-text_dark);
			background-color: transparent;
			padding: 0 0 19px;
			margin-bottom: -1px;
			border-bottom: 1px solid var(--theme-color-bd_color);
			@include transition-colors;

			&:before {
				display: none;
			}
		}
    	a span {
    		@include font(10px, 16px, 500); 
		    letter-spacing: 0;
		    border: none;		    
		    padding: 2px 11px;
			margin-left: 7px;
		    display: inline-block;
		    @include border-radius(21px);
    		color: var(--theme-color-accent_text);
    		background-color: var(--theme-color-accent_link4);
		}
	}
	& > ul > li:hover > a,
	& > ul > li.selected > a,
	& > ul > li.current > a {
		opacity: 1;
		background-color: transparent;
		color: var(--theme-color-accent_link2);
		border-color: var(--theme-color-accent_link2);
	}
	& > ul > li#activity-filter-select,
	& > ul > li#members-order-select,
	& > ul > li#groups-order-select,
	& > ul > li#group_members-order-select {
		border-bottom: none;
		margin-top: 0;
		padding-right: 0;
		margin-left: auto;

		&:first-child:last-child {
			float: none;
		}

		& > label,
		& form > label {
			display: none;
		}
		#activity-filter-by {
		    padding-top: 11px;
		    padding-bottom: 11px;
		}
	}

	/* Buttons */
	#members_search_submit {
		margin-left: 11px;
	}
	#bp-create-doc-button {
		margin: 0 0 0 auto;
		border: none;
	}
}
div#buddypress #item-body #whats-new-form + #subnav {
    margin-top: 0 !important;
    padding-top: calc( var(--theme-var-grid_gap) + ( var(--theme-var-grid_gap_koef) * 3px ) ); // replace 33px
	@include border-radius(0 0 15px 15px); /* ok */
}


/* Activity
--------------------------------------------- */
div#buddypress div.activity {
	#activity-stream {
		border: none;
		margin: 0;

		/* Avatar */
		.activity-avatar img {
			width: 41px;
			height: 41px;
			@include border-round;
			margin: 0;
			margin-right: 13px;
		}

		/* Content */
		.activity-content {
			margin: 0;
			
			/* Header */
			.activity-header {
				@include font(14px, 20px);
				color: var(--theme-color-text);
				margin-right: 0;
				margin-left: 3.857em;

				a:not(.view) {
					font-weight: 600;
				}
				a.view {
					color: inherit;
					display: block;
					position: relative;

					/* Tooltip */
					&:hover::before {
						content: '';
						@include abs-lt(15px, 100%);
						border: 4px solid;
						border-color: transparent transparent var(--theme-color-bg_color);
						display: block;
						margin-top: -3px;
					}
					&:hover::after {
						color: var(--theme-color-text);
						background-color: var(--theme-color-bg_color);
						box-shadow: none;
						border: none;
						@include border-radius(6px);
						margin-top: 5px;
						margin-bottom: 0;
						top: 100%;
						bottom: auto;
					}
				}
				p {
				    margin: 1px 0;
				}
				img.avatar {
				    margin: 0 7px -8px 5px !important;				    
					@include border-round;
				}
				& > p .time-since {
					display: block;
				}
			}

			/* Inner */
			.activity-inner {
			    margin: calc( var(--theme-var-sm_grid_gap) + ( var(--theme-var-grid_gap_koef) * 2px ) ) 0 0 0; // replace 22px 0 0 0

			    & > p {
			    	margin: 0 0 1.6em;
			    }
			    & > p:last-child {
			    	margin: 0 0 0;
			    }
			    .activity-read-more {
				    margin-left: 0;
				    margin-top: var(--theme-var-sm_grid_gap);
					display: block; 
				}

				/* Groups */
				.bp-group-short-description {
					margin-bottom: 0;

					.bp-group-avatar-content {
						margin-bottom: 0
					}
					.bp-group-short-description-title {
						margin: 0;
					}
					.bp-profile-button { 
						text-align: center;
						margin-top: 15px;
					}
				}

				/* Profile */
				.bp-profile-button {
					text-align: center;
				}
			}

			/* Meta */
			.activity-meta {
				margin: 17px 0 0;

				a {
					font-size: 13px;
					color: var(--theme-color-text_light);
					background-color: transparent;
					border: none;
					padding: 0;
					margin-right: 12px;

					&:last-child {
						margin-right: 0;
					}

					&:before {
						font-family: $theme_icons;
						color: var(--theme-color-text_dark);
						font-size: 15px;
						margin-right: 3px;
						margin-left: -1px;
					}
					&:hover,
					&:focus {
						color: var(--theme-color-text_dark);
						background: transparent;
					}

					span {
					    background: transparent;
					    color: inherit;
					    font-size: inherit;
					    padding: 0;
					}
				}
				.acomment-reply:before {
					content: '\E9D2';
				}
				.fav:before,
				.unfav:before {
					content: '\E9BC';
					margin-right: 6px;
				}
				.delete-activity:before {
					content: '\E9D4';
					margin-right: 5px;
				}
				.edit:before {
					content: '\E9D3';
				}
			}
		}

		/* Comments */
		.activity-item.has-comments .activity-comments {
	    	padding: 20px calc( var(--theme-var-grid_gap) + ( var(--theme-var-grid_gap_koef) * 15px ) ) calc( var(--theme-var-sm_grid_gap) + ( var(--theme-var-grid_gap_koef) * 1px ) ) calc( var(--theme-var-grid_gap) + ( var(--theme-var-grid_gap_koef) * 15px ) ); // replace 20px 45px 21px 45px
		    margin: 18px calc( -1 * ( var(--theme-var-grid_gap) + ( var(--theme-var-grid_gap_koef) * 15px ) ) ) calc( -1 * var(--theme-var-grid_gap) ) calc( -1 * ( var(--theme-var-grid_gap) + ( var(--theme-var-grid_gap_koef) * 15px ) ) ); // replace 16px -45px -30px -45px
			background-color: var(--theme-color-navigate_bg);
			border-top: 1px solid var(--theme-color-bd_color);

		    & > form {
		    	padding: 0;
			}
		}
		.activity-item:not(.has-comments) .activity-comments {
			margin: 0;
			overflow: visible;

			& > form {
		    	padding: var(--theme-var-grid_gap) calc( var(--theme-var-grid_gap) + ( var(--theme-var-grid_gap_koef) * 15px ) ); // replace 30px 45px
			    margin: 16px calc( -1 * ( var(--theme-var-grid_gap) + ( var(--theme-var-grid_gap_koef) * 15px ) ) ) calc( -1 * var(--theme-var-grid_gap) ) calc( -1 * ( var(--theme-var-grid_gap) + ( var(--theme-var-grid_gap_koef) * 15px ) ) ); // replace 16px -45px -30px -45px
				background-color: var(--theme-color-navigate_bg);
				border-top: 1px solid var(--theme-color-bd_color);
				overflow: hidden;
			}
		}
		.activity-item .activity-comments {
			/* Comments list */
			ul {
				padding: 0;

				li {
				    border-top: none;
				    padding: 0;
				    overflow: visible;
				    text-indent: 0;
				}
				li > ul:not(:empty),
				li + li {    
					margin-top: 20px;
				    padding-top: calc( var(--theme-var-sm_grid_gap) + ( var(--theme-var-grid_gap_koef) * 6px ) ); // replace 26px
				    border-top: 1px solid var(--theme-color-bd_color);
				}
				li > ul {
					margin-left: calc( var(--theme-var-grid_gap) + ( var(--theme-var-grid_gap_koef) * 24px ) ); // replace 54px
				}

				/* Avatar */
				.acomment-avatar img {
					width: 41px;
					height: 41px;
					@include border-round;
					margin: 0;
					margin-right: 13px;
				}

				/* Meta */
				.acomment-meta {
					font-size: 12px;
					color: var(--theme-color-text);

					a:not(.activity-time-since) {
						@include font(14px, inherit, 600);
						color: var(--theme-color-text_dark);
						margin-right: 3px;
					}
				}

				/* Content */
				.acomment-content {
				    font-size: 14px;
				    line-height: 26px;
				    margin: -1px 0 0 3.857em;

				    .activity-read-more {
						margin-left: 0;
					}
				}

				/* Options */
				.acomment-options {
				    margin: 5px 0 0 3.6em;
				    float: none;

				    a {
					    font-size: 13px;
					    margin-right: 17px;
					    font-weight: 500;
						color: var(--theme-color-text);
					}
					a.acomment-reply:hover {
						color: var(--theme-color-text_dark);
					}
					a.delete:hover {
						color: var(--theme-color-accent_link2);
					}
				}
			}

			/* New comment form */
			ul + .ac-form,
			ul + .ac-form + .ac-form,
			.acomment-options + .ac-form {
				margin-top: 20px;
			}
			.ac-form {
				padding: 0;
				margin: 0;

				/* Avatar */
				.ac-reply-avatar img {
					width: 41px;
					height: 41px;
					margin: 0;
					@include border-round;
					border: none;
				}

				/* Content */
				.ac-reply-content {
				    color: inherit;
				    margin-left: 3.6em;
					padding-left: 0;;

				    .ac-textarea {
					    background: transparent;
					    border: none;
					    padding: 0;
					    margin-bottom: 20px;

					    textarea {
					    	@include theme_field_template;
					    	@include theme_field_colors;

					    	&:hover,
					    	&:focus {
					    		@include theme_field_colors_hover;
					    		background-color: var(--theme-color-input_bg_color);
					    	}
					    }
					}

					& > button,
					& > input[type="submit"],
					& > a {
						margin: 0;
					}
					& > button {
						margin-right: 9px;
					}
				}

				/* Message */
				.ac-reply-content ~ #message {
					margin-top: 20px !important;
				}

				/* Media uploader */
				.rtmedia-uploader-div {
				    color: inherit;
				    margin-left: calc( var(--theme-var-grid_gap) + ( var(--theme-var-grid_gap_koef) * 11px ) ); // replace 41px
				    padding-left: 20px;
				    display: none;

				    .plupload_file {
				    	margin-top: 15px;
				    }
				}
			}				
		}
	}
}
body:not(.logged-in) div#buddypress div.activity .activity-meta {
	display: none !important;
}
div#buddypress #whats-new-form + div.activity,
div#buddypress #subnav + div.activity {	
	margin-top: var(--theme-var-grid_gap);
}


/* Profile
--------------------------------------------- */
div#buddypress #item-body .profile:not(.activity-item) {
	z-index: 2;
	margin-top: var(--theme-var-grid_gap);

	& > h2,
	.bp-widget h2,
	.standard-form h2 {
		margin-top: 0;
		margin-bottom: 0.7em;
	}

	/* View */
	.bp-widget {
		.profile-fields {
			box-shadow: none;
		}
	}

	/* Edit */
	#profile-edit-form {
		& > h2 {
			margin-bottom: 0.9em;
		}
	}

	/* Change Profile Photo */
	.bp-avatar-nav {
	    margin: 0 0 var(--theme-var-grid_gap);

	    ul {
	    	border-color: var(--theme-color-bd_color);
			margin-bottom: 0;

			li {
	    		border-color: var(--theme-color-bd_color);
	    		border-bottom-color: var(--theme-color-content_bg);

	    		a {
	    			font-weight: 500;
	    			opacity: 1;
	    			color: var(--theme-color-text);
	    		}
			}
	    }
	}
	.bp-avatar + .bp-avatar-status {
	    margin-top: var(--theme-var-grid_gap) !important;
	    margin-bottom: 0;

	    &:empty {
	    	display: none;
	    }
	}
	#avatar-to-crop {
		margin-bottom: 0;
	}
	#avatar-crop-actions a.button {
		width: 100%;
	}

	.avatar-history-table {
		width: 100%;
	}
	.avatar-history-actions .avatar-history-action {
		margin: 15px 5px 0;
	}

	/* Change Cover Image */
	.bp-cover-image-status + .bp-cover-image-manage:not(:empty) {
		margin-top: var(--theme-var-grid_gap);
	}
	.bp-cover-image-manage {
		p {
			margin-bottom: 0;			
		}

		#bp-delete-cover-image {
			margin-top: var(--theme-var-grid_gap);
		}
	}

	/* Delete Profile Photo */
	#bp-delete-avatar-container,
	#bp-delete-cover-image-container {
		p {
			margin-bottom: 0;			
		}

		#bp-delete-avatar {
			margin-top: var(--theme-var-grid_gap);
		}
	}
}


/* Notifications
--------------------------------------------- */
div#buddypress #item-body #notifications-bulk-management {
	margin-top: var(--theme-var-grid_gap);

	.notifications {
		.bulk-select-check label {
			padding: 0 0 0 19px;			
		}
		.bulk-select-check,
		.notification-actions {
			text-align: center;

			a:after {
				display: none;
			}
		}
		.notification-description {
			width: 50%;
		}
	}
	.notifications-options-nav {
		margin-top: var(--theme-var-grid_gap);
		display: flex;

		.select_container {
		    margin-right: 15px;
		}
	}
}


/* Friends
--------------------------------------------- */
div#buddypress #item-body #members-list,
div#buddypress #item-body #friend-list,
div#buddypress #item-body #admins-list {
	margin-top: var(--theme-var-grid_gap);	
	box-sizing: border-box;
	border: none;

	li {
		padding: 0;
		margin: 0;
		border: 0;
		display: flex;
		flex-direction: row;
		align-items: center;
		overflow: visible;

		img.avatar {
			@include border-round;
			float: none;
			margin: 0 20px 0 0;
			width: 50px;
		}
		.item-title {
		    font-weight: 500;
		    font-size: inherit;
		    margin: 0;
		    width: auto;

		    .update {
		    	display: none;
		    }
		}
		.joined {
			font-size: 13px;
		}
		.action {
		    position: relative;
		    top: auto;
		    right: auto;
		    margin: 0 -10px -10px auto;
		    font-size: 0; // for removing space beetween an elements
		    line-height: 0;
		    max-width: 60%;

		    & > a,
		    & > .generic-button {
		    	margin: 0 10px 10px 0;
		    	display: inline-block;
		    }
		}
	}
	li + li {
		margin-top: 15px;
		padding-top: 15px;
		border-top: 1px solid var(--theme-color-bd_color);
	}
}


/* Groups & Members search
--------------------------------------------- */
div#buddypress #groups-dir-search,
div#buddypress #members-dir-search {
	float: none;
	margin: 0 0 var(--theme-var-grid_gap);

	&:not(:first-child) {
		margin-top: var(--theme-var-grid_gap);
	}
	.bp-screen-reader-text {
		display: block;
		position: relative !important;
		width: auto;
		height: auto;
		color: var(--theme-color-text_dark);
		text-align: left;
	}
	#groups_search,
	#members_search {
	    margin-right: 11px;
	    margin-bottom: 0px;
	    width: calc(100% - 147px);
	}
	#groups_search_submit,
	#members_search_submit {
	    width: 131px;
	}
}


/* Groups & Members navigation
--------------------------------------------- */
div#buddypress #groups-directory-form .item-list-tabs:not(#subnav),
div#buddypress #members-directory-form .item-list-tabs:not(#subnav),
div#buddypress #create-group-form #group-create-tabs {
	ul {
		overflow: hidden;
    	margin-bottom: -10px;
	}
    ul li {
    	@include font(13px, 19px, 500); 
    	min-height: 20.5px;
    	margin-right: calc( var(--theme-var-sm_grid_gap) + ( var(--theme-var-grid_gap_koef) * 2px ) ); // replace 22px
    	margin-top: 1px;
		margin-bottom: 10px;
    	text-indent: 0;

    	a, & > span {
    		padding: 0;
    	}
		&.current a, 
		&.selected a {
    		color: var(--theme-color-accent_link2);
			background-color: inherit;
			opacity: inherit;
			font-weight: inherit;
		}
    	a span {
    		@include font(10px, 16px, 500); 
		    letter-spacing: 0;
		    border: none;		    
		    padding: 2px 11px;
			margin-left: 3px;
		    display: inline-block;
		    @include border-radius(21px);
    		color: var(--theme-color-accent_text);
    		background-color: var(--theme-color-accent_link4) !important;
		}
    }
}


/* Groups & Members filters 
--------------------------------------------- */
div#buddypress #groups-directory-form #subnav,
div#buddypress #members-directory-form #subnav {
	z-index: 2;
	margin: 0;
	
	& > ul > li#activity-filter-select,
	& > ul > li#members-order-select,
	& > ul > li#groups-order-select {
		border-bottom: none;
		margin-top: 0;
		padding-right: 0;
		text-indent: 0;

		&:first-child:last-child {
			float: none;
			margin: 0;
		}

		& > label,
		& form > label {
			display: none;
		}
		#activity-filter-by {
		    padding-top: 11px;
		    padding-bottom: 11px;
		}
	}
}


/* Groups list 
--------------------------------------------- */
div#buddypress #groups-list {
	border: none;
	width: auto;
	margin-top: var(--theme-var-grid_gap);
	margin-right: calc( -1 * var(--theme-var-grid_gap) );
	margin-bottom: calc( -1 * var(--theme-var-grid_gap) );
	display: flex;
  	flex-wrap: wrap;

	& > li {
		padding: 8.4em calc( var(--theme-var-sm_grid_gap) + ( var(--theme-var-grid_gap_koef) * 5px ) ) calc( var(--theme-var-sm_grid_gap) + ( var(--theme-var-grid_gap_koef) * 5px ) ) calc( var(--theme-var-sm_grid_gap) + ( var(--theme-var-grid_gap_koef) * 5px ) ); // replace 8.4em 25px 25px 25px
	    margin-right: var(--theme-var-grid_gap);
	    margin-bottom: var(--theme-var-grid_gap);
	    display: inline-block;
	    vertical-align: top;
	    width: calc(33.3% - var(--theme-var-grid_gap));
	    box-sizing: border-box;
	    overflow: hidden;

	    border: 1px solid var(--theme-color-bd_color);
		@include border-radius(var(--theme-var-content_rad)); /*
		background-size: auto 178px;
		background-repeat: no-repeat;
		background-position: top center;*/

		/* Avatar */
		.item-avatar {
			position: relative;
			z-index: 2;

			 img.avatar {
			    float: none;
			    margin: 0;
			    width: 84px;
			}
		}

		/* Item */
		.item {    
			margin-top: calc( var(--theme-var-sm_grid_gap) + ( var(--theme-var-grid_gap_koef) * 6px ) ); // replace 26px
			margin-left: 0;

			/* Title */
			.item-title {
				width: auto;
				font-weight: 500;

				.update {
					display: none;
				}
			}

			/* Meta */
			.item-meta {
				margin-top: 2px;

				.activity {
				    font-size: 13px;
				    font-weight: 500;
				    color: var(--theme-color-text_light);
				}
			}

			/* Description */
			.item-desc {
				display: none;
			}

			/* Cover image */
			.item-cover {
				@include abs-cover;
				background-size: auto 178px;
				background-repeat: no-repeat;
				background-position: top center;
			}
		}

		/* Action */
		.action {
		    position: initial;
		    top: auto;
		    right: auto;
		    float: none;
		    text-align: inherit;
		    margin-top: 18px;
			margin-left: 0;
			padding-top: 13px;
			border-top: 1px solid var(--theme-color-bd_color);

			/* Button */
			div.group-button {
				position: absolute;
			    right: calc( var(--theme-var-sm_grid_gap) + ( var(--theme-var-grid_gap_koef) * 5px ) ); // replace 25px
			    top: 12.73em;
			    z-index: 2;

				a {
					@include font(14px, 21px, 500);
					text-transform: capitalize;
					letter-spacing: 0;
					border: none;
					padding: 0;
					color: var(--theme-color-accent_link);
					background-color: transparent;

					&:hover,
					&:focus {
						color: var(--theme-color-accent_hover);
					}
				}
			}

			/* Meta */
		    .meta {
		    	font-size: 13px;
				font-weight: 500;
				color: var(--theme-color-text_light);
				margin: 0;
		    }
		}
	}
} 


/* Group list 
--------------------------------------------- */
div#buddypress #group-list {
	border: none;
	width: auto;
	margin-top: var(--theme-var-grid_gap);
	margin-right: calc( -1 * var(--theme-var-grid_gap) );
	margin-bottom: calc( -1 * var(--theme-var-grid_gap) );
	display: flex;
  	flex-wrap: wrap;

	& > li {
		padding: 8.4em calc( var(--theme-var-sm_grid_gap) + ( var(--theme-var-grid_gap_koef) * 5px ) ) calc( var(--theme-var-sm_grid_gap) + ( var(--theme-var-grid_gap_koef) * 5px ) ) calc( var(--theme-var-sm_grid_gap) + ( var(--theme-var-grid_gap_koef) * 5px ) ); // replace 8.4em 25px 25px 25px
	    margin-right: var(--theme-var-grid_gap);
	    margin-bottom: var(--theme-var-grid_gap);
	    display: inline-block;
	    vertical-align: top;
	    width: calc(33.3% - var(--theme-var-grid_gap));
	    box-sizing: border-box;

	    border: 1px solid var(--theme-color-bd_color);
		@include border-radius(var(--theme-var-content_rad));
		background-size: auto 178px;
		background-repeat: no-repeat;
		background-position: top center;

		overflow: hidden;

		/* Background */ 
		.item_bg {
		    position: absolute;
		    left: 0;
		    right: 0;
		    top: 0;
		    height: 178px;
		    z-index: 0;
		}

		/* Avatar */
		.item-avatar {
		    z-index: 1;
		    position: relative;
			margin-bottom: calc( var(--theme-var-sm_grid_gap) + ( var(--theme-var-grid_gap_koef) * 6px ) ); // replace 26px

			 img.avatar {
			    float: none;
			    margin: 0;
			    width: 84px;
			}
		}

		/* Title */
		h4 {
			width: auto;
			font-weight: 500;

			a {
				display: inline-block;
			}
			.small {
			    font-size: 13px;
			    font-weight: 500;
			    color: var(--theme-color-text_light);
				margin-top: 2px;
				display: block;
				text-indent: -16px;
				overflow: hidden;
			}
		}
		/* Description */
		.desc,
		.desc + p {
			display: none;
		}

		/* Action */
		.action {
		    position: initial;
		    top: auto;
		    right: auto;
		    text-align: inherit;
		    margin-top: 18px;
			padding-top: 13px;
			border-top: 1px solid var(--theme-color-bd_color);

			/* Button */
			a {
				@include font(14px, 21px, 500);
				text-transform: capitalize;
				letter-spacing: 0;
				border: none;
				padding: 0;
				color: var(--theme-color-accent_link);
				background-color: transparent;

				&:hover,
				&:focus {
					color: var(--theme-color-accent_hover);
				}
			}
		}
	}
} 


/* Group create
--------------------------------------------- */
div#buddypress #create-group-form {
	#group-create-tabs {
		@include border-radius(8px);
		padding: calc( var(--theme-var-sm_grid_gap) + ( var(--theme-var-grid_gap_koef) * 1px ) ) calc( var(--theme-var-grid_gap) + ( var(--theme-var-grid_gap_koef) * 13px ) ); // replace 21px 43px
		background-color: var(--theme-color-navigate_bg);
	}

	#template-notices #message {
		margin-right: 0 !important;
		margin-left: 0 !important;
	}

	#group-create-body {
		margin: var(--theme-var-grid_gap) 0 0;

		p {
			margin-bottom: 10px;
		}

		/* Change Profile Photo */
		.bp-avatar-nav {
		    margin: var(--theme-var-grid_gap) 0;

		    ul {
		    	border-color: var(--theme-color-bd_color);
				margin-bottom: 0;

				li {
		    		border-color: var(--theme-color-bd_color);
		    		border-bottom-color: var(--theme-color-content_bg);

		    		a {
		    			font-weight: 500;
		    			opacity: 1;
		    			color: var(--theme-color-text);
		    		}
				}
		    }
		}
		.bp-avatar {
		    margin-bottom: var(--theme-var-grid_gap);
		}

		/* Delete Profile Photo */
		#bp-delete-avatar-container,
		#bp-delete-cover-image-container {
			p {
				margin-bottom: 0;			
			}

			#bp-delete-avatar {
				margin-top: var(--theme-var-grid_gap);
			}
			#bp-delete-cover-image {
				margin: var(--theme-var-grid_gap) 0;
			}
		}
	}

	#template-notices #message {
		margin-right: 0;
		margin-left: 0;
	}
}
.group-avatar div#buddypress #create-group-form { 	
	.left-menu {
	    width: 84px;

	    img {
	    	width: 100%;
	    }
	}
	.main-column {
	    margin-left: 7.6em;
	}	
}	
.group-invites div#buddypress #create-group-form { 	
	/* Invite list */
	#invite-list {
		height: auto;
		margin: 0;
		padding: 15px 20px;
		box-sizing: border-box;
		background-color: var(--theme-color-navigate_bg); 
		@include border-radius(5px);

		ul {
			padding: 0;    
			margin: 0 !important;

			li {
				margin-left: 0 !important;
			}
			li + li {
				margin-top: 10px !important;
			}
		}
	}
	.left-menu,
	.main-column {
		float: none !important;
		display: inline-block !important;
		vertical-align: top;
	}
	.main-column {
		margin-left: calc( var(--theme-var-sm_grid_gap) + ( var(--theme-var-grid_gap_koef) * 5px ) ) !important; // replace 25px
		width: calc(100% - 190px);
	}	

	/* Friend list */
	#friend-list {
		box-sizing: border-box;
		border: none;

		li:first-child {
			margin-top: var(--theme-var-grid_gap);	
		}
		li {
			padding: 0;
			margin: 0;
			border: 0;

			img.avatar {
				@include border-round;
				margin: 0 20px 0 0;
			}
			h4 {
			    font-weight: 500;
			    font-size: inherit;
			    line-height: inherit;
			    margin: 0;
			    width: auto;
			}
			.action {
			    position: relative;
			    top: auto;
			    right: auto;
			    margin-left: auto;
			    float: right;
			}
		}
		li + li {
			margin-top: 15px;
			padding-top: 15px;
			border-top: 1px solid var(--theme-color-bd_color);
		}
	}

	/* Buttons */
	#message ~ .submit {
		margin-top: var(--theme-var-grid_gap);	
	}
}
.group-course-settings div#buddypress #create-group-form { 
	br {
		display: none;
	}
}


/* Group - Home
--------------------------------------------- */
body.single-item.groups div#buddypress #item-header {
	#item-header-cover-image {
		#item-header-content {
			display: flex;
    		flex-direction: column;
			max-width: none;
		    margin: 0;

		    /* Title & admin */
			#item-actions {
				order: 1;
				width: auto;
				max-width: none;
				padding-top: 0px;
				margin: 0;
				float: none; 
				text-align: left;    
				display: flex;
    			flex-direction: row;
    			align-items: center;
    			justify-content: end;

    			.user-publicname {
    				order: 1;
    				margin-right: auto;
    			}
				h2:not(.user-publicname) { 	
    				order: 2;			    
					font-size: 13px;
				    line-height: inherit;
				    font-weight: 400;
				    margin-bottom: 0;
				    color: var(--theme-color-text_light);
				    display: inline-block;
				    vertical-align: middle;
				}
				#group-admins {
    				order: 3;
				    display: inline-block;
				    vertical-align: middle;
				    margin-bottom: 0;
				    padding-left: 12px;

				    li + li {
				    	margin: 0 0 0 5px;
				    }
				    li {
						margin: 0;
				    }
				    a {
				    	display: block;
				    	padding: 0;
						margin: 0;
						border: none;

				    	img.avatar {
				    		@include border-round;
				    	}
				    }
				}
			}

			/* User meta */
			.user-meta {
				order: 2;
			}

			/* Group meta */
			#item-meta {
				order: 3;
				display: block;
				margin: 13px 0 0;

				p:last-child {
					margin-bottom: 0;
				}
			}

			/* Buttons */
			#item-buttons {
				order: 4;
				float: none;
				transform: none;
				text-align: left;
				margin-top: calc( var(--theme-var-sm_grid_gap) + ( var(--theme-var-grid_gap_koef) * 4px ) ); // replace 24px

				.generic-button {
				    margin: 0;
				}
			}
		}
	}
}


/* Group - Member list 
--------------------------------------------- */
div#buddypress #members-group-list #member-list {
	border: none;
	width: auto;
	margin-top: var(--theme-var-grid_gap);
	margin-right: calc( -1 * var(--theme-var-grid_gap) );
	margin-bottom: calc( -1 * var(--theme-var-grid_gap) );
	display: flex;
  	flex-wrap: wrap;

	& > li {
		padding: var(--theme-var-grid_gap) calc( var(--theme-var-sm_grid_gap) + ( var(--theme-var-grid_gap_koef) * 5px ) ) calc( var(--theme-var-sm_grid_gap) + ( var(--theme-var-grid_gap_koef) * 5px ) ) calc( var(--theme-var-sm_grid_gap) + ( var(--theme-var-grid_gap_koef) * 5px ) ); // replace 30px 25px 25px 25px
	    margin-right: var(--theme-var-grid_gap);
	    margin-bottom: var(--theme-var-grid_gap);
	    display: inline-block;
	    vertical-align: top;
	    width: calc(33.3% - var(--theme-var-grid_gap));
	    box-sizing: border-box;
		text-align: center;

	    border: 1px solid var(--theme-color-bd_color);
		@include border-radius(var(--theme-var-content_rad));
		background-size: auto 178px;
		background-repeat: no-repeat;
		background-position: top center;

		/* Avatar */
		 img.avatar {
		    float: none;
		    margin: 0;
		    width: 130px;
		    @include border-round;
		}

		/* Title */
		h5 {
			width: auto;
			font-weight: 500;
			margin-top: 19px;
			margin-bottom: 0;
		}

		/* Meta */
		.activity {
		    font-size: 13px;
		    font-weight: 500;
		    color: var(--theme-color-text_light);
		}

		/* Action */
		.action {
		    position: initial;
		    top: auto;
		    right: auto;
		    text-align: inherit;
		    float: none;
			margin: 0;
		    margin-top: 18px;
			padding-top: 13px;
			border-top: 1px solid var(--theme-color-bd_color);

			/* Button */
			a {
				@include font(14px, 21px, 500);
				text-transform: capitalize;
				letter-spacing: 0;
				border: none;
				padding: 0;
				color: var(--theme-color-accent_link);
				background-color: transparent;

				&:hover,
				&:focus {
					color: var(--theme-color-accent_hover);
				}
			}
		}
	}
} 


/* Group - Members list 
--------------------------------------------- */
div#buddypress #members-dir-list #members-list {
	border: none;
	width: auto;
	margin-top: var(--theme-var-grid_gap);
	margin-right: calc( -1 * var(--theme-var-grid_gap) );
	margin-bottom: calc( -1 * var(--theme-var-grid_gap) );
	display: flex;
  	flex-wrap: wrap;

	& > li {
		padding: var(--theme-var-grid_gap) calc( var(--theme-var-sm_grid_gap) + ( var(--theme-var-grid_gap_koef) * 5px ) ) calc( var(--theme-var-sm_grid_gap) + ( var(--theme-var-grid_gap_koef) * 5px ) ) calc( var(--theme-var-sm_grid_gap) + ( var(--theme-var-grid_gap_koef) * 5px ) ); // replace 30px 25px 25px 25px
	    margin-right: var(--theme-var-grid_gap);
	    margin-bottom: var(--theme-var-grid_gap);
	    display: inline-block;
	    vertical-align: top;
	    width: calc(33.3% - var(--theme-var-grid_gap));
	    box-sizing: border-box;
		text-align: center;
		overflow: hidden;

	    border: 1px solid var(--theme-color-bd_color);
		@include border-radius(var(--theme-var-content_rad));
		background-size: auto 178px;
		background-repeat: no-repeat;
		background-position: top center;

		/* Avatar */
		.item-avatar {
			 img.avatar {
			    float: none;
			    margin: 0;
			    width: 130px;
			    @include border-round;
			}
		}

		/* Item */
		.item {    
			margin-top: 19px;

			/* Title */
			.item-title {
				width: auto;
				font-weight: 500;

				.update {
					display: none;
				}
			}

			/* Meta */
			.item-meta {
				margin-top: 0;

				.activity {
				    font-size: 13px;
				    font-weight: 500;
				    color: var(--theme-color-text_light);
				}
			}

			/* Description */
			.item-desc {
				display: none;
			}
		}

		/* Action */
		.action {
		    position: initial;
		    top: auto;
		    right: auto;
		    text-align: inherit;
		    margin: calc( var(--theme-var-grid_gap) + ( var(--theme-var-grid_gap_koef) * 1px ) ) calc( -1 * ( var(--theme-var-sm_grid_gap) + ( var(--theme-var-grid_gap_koef) * 5px ) ) ) calc( -1 * ( var(--theme-var-sm_grid_gap) + ( var(--theme-var-grid_gap_koef) * 5px ) ) ); // replace 31px -25px -25px
			border-top: 1px solid var(--theme-color-bd_color);
			background-color: var(--theme-color-navigate_bg);
			display: flex;
			flex-direction: row;

			.generic-button + .generic-button {
				border-left: 1px solid var(--theme-color-bd_color);
			}
			.generic-button {
				width: 50%;

				a {
					@include border-sharp;
					padding: calc( var(--theme-var-sm_grid_gap) + ( var(--theme-var-grid_gap_koef) * 1px ) ) 0; // replace 21px 0
					color: inherit;
					font-weight: 400;
					text-indent: -1000px;
					background-color: transparent;
					box-shadow: none;
					border: none;
					display: block;
					position: relative;

					&:before {
				    	font-family: $theme_icons;
				    	@include abs-ct(calc(50% - 13px));
				    	text-indent: 0;
				    	font-size: 18px;
						@include transition-colors;
					}
					&:hover:before {
				    	color: var(--theme-color-accent_link);
					}
					&[data-title]:after {
				    	content: attr(data-title);
				    	@include font(12px, 18px, 500);
				    	text-transform: capitalize;
				    	letter-spacing: 0;
						text-indent: 0;

				    	position: absolute;
						bottom: 80%;
						left: 50%;
						transform: translateX(-50%);

						color: var(--theme-color-text_dark);
						border: 1px solid var(--theme-color-bd_color);
						background-color: var(--theme-color-content_bg);

						display: block;
						max-width: calc(100% - 10px);
						width: max-content;
						white-space: normal;
						@include box-sizing(border-box);
						padding: 4px calc( var(--theme-var-sm_grid_gap) + ( var(--theme-var-grid_gap_koef) * 5px ) ); // replace 7px 25px
						opacity: 0;

						@include border-radius(25px);
						@include transition(all ease 0.3s);
					}
					&:hover:after {
						opacity: 1;
						bottom: 100%;
						margin-bottom: 5px;
					}
				} 
				.friendship-button.add::before {
				    content: '\E9D6';
				}
				.friendship-button.remove::before,
				.friendship-button.requested::before {
				    content: '\E9D7';
				}
				.send-message::before {
				    content: '\E9D5';
				}
			}
		}
		&.is-current-user .action {
			border-top: none;
		}
	}
} 


/* Group - Send Invites
--------------------------------------------- */
div#buddypress #send-invite-form {
	margin-top: var(--theme-var-grid_gap);

	 .invite {
		/* Invite list */
		#invite-list {
			height: auto;
			margin: 0;
			padding: 15px 20px;
			box-sizing: border-box;
			background-color: var(--theme-color-navigate_bg); 
			@include border-radius(5px);

			ul {
				padding: 0;    
				margin: 0 !important;

				li {
					margin-left: 0 !important;
				}
				li + li {
					margin-top: 10px !important;
				}
			}
		}

		/* Friend list */
		#friend-list {
			padding: 0;
			box-shadow: none;
			@include border-sharp;
			background-color: transparent;
			float: none;

			li {
				h3 {
				    font-weight: 500;
				    font-size: inherit;
				    line-height: inherit;
				    margin: 0;
				    width: auto;
				}
				.activity {
					margin-left: 10px;
				}
			}
		}

		/* Pagination */
		#pag-top {
			margin-top: 0;
		}
	}
}


/* Group - Manage
--------------------------------------------- */
div#buddypress #group-settings-form {
	margin-top: var(--theme-var-grid_gap);

	& > h2,
	.bp-widget h2,
	.standard-form h2 {
		margin-top: 0;
		margin-bottom: 0.7em;

		& + p,
		& + fieldset > p {
			margin-bottom: 1.6em;
		}
	}

	/* Details */
	label[for="group-notify-members"] {
		margin-bottom: var(--theme-var-grid_gap);
	}
	
	/* Settings */
	label:first-child {
	    display: block;
	}

	/* Change Profile Photo */
	.bp-cover-image {
		margin-top: var(--theme-var-grid_gap);
	}
	.bp-avatar-nav {
	    margin: var(--theme-var-grid_gap) 0;

	    ul {
	    	border-color: var(--theme-color-bd_color);
			margin-bottom: 0;

			li {
	    		border-color: var(--theme-color-bd_color);
	    		border-bottom-color: var(--theme-color-content_bg);

	    		a {
	    			font-weight: 500;
	    			opacity: 1;
	    			color: var(--theme-color-text);
	    		}
			}
	    }
	}
	.bp-avatar {
	    margin-bottom: 0;
	}
	.bp-avatar-status {
	    margin-top: var(--theme-var-grid_gap) !important;
	    margin-bottom: 0 !important;

	    &:empty {
	    	display: none;
	    }
	}

	/* Delete Profile Photo */
	#bp-delete-avatar-container,
	#bp-delete-cover-image-container {
		p {
			margin-bottom: 0;			
		}

		#bp-delete-avatar {
			margin-top: var(--theme-var-grid_gap);
		}
		#bp-delete-cover-image {
			margin: var(--theme-var-grid_gap) 0 0;
		}
	}	

	/* Members */
	.group-members-list {
		margin: 0;
		overflow: unset;

		& + .group-members-list {
			margin-top: var(--theme-var-grid_gap);
		}
		& > h3 {
			margin-top: 0;
		}
		#members-list {
			padding: 0;
			background-color: transparent;
			box-shadow: none;
			@include border-sharp;
		}
	}

	/* Media */
	.rtmedia-group-media-settings {
		& > h4 {
			margin-top: 0;
		}
		hr {
			display: none;
		}
	}

	/* Forum */	
	.description {
	    color: inherit;
	    font-size: 80%;
	    margin: calc(-1 * var(--theme-var-grid_gap) + 5px) 0 var(--theme-var-grid_gap);
	}

	/* Course Settings */
	.bp-learndash-group-course > h4,
	.bp-learndash-course-activity-checkbox > h4 {
		margin-top: 0;
	}
	.bp-learndash-course-activity-checkbox .bp-checkbox-wrap:not(:last-child) input[type="checkbox"] + label {
		margin-bottom: 15px;
	}

	/* Delete */
	label[for="delete-group-understand"] {
		font-weight: 400;
		margin: var(--theme-var-grid_gap) 0;
	}
}


/* Forums
--------------------------------------------- */
div#bbpress-forums {
    font-size: inherit;
    line-height: inherit;
	margin: 0;
	overflow: visible;

	a, a:hover {
		@include transition-colors;
	}

	/* Titles */
	& > h2,
	.entry-title {
		margin-top: calc( var(--theme-var-grid_gap) + ( var(--theme-var-grid_gap_koef) * 15px ) ); // replace 45px
		margin-bottom: 0;
	}
	.bbp-search-form + .entry-title {
		line-height: 47px;
	}

	/* Search */
	.bbp-search-form {
		#bbp_search_submit {
			margin-left: 9px;
		}
	}

	/* Subscribe & Favourite*/
	#favorite-toggle, 
	#subscription-toggle {
	    float: none;
	    display: inline-block;
		vertical-align: top;
		margin-top: var(--theme-var-grid_gap);
	}
	#subscription-toggle + #favorite-toggle {
		margin-left: 11px;
	}
	#subscription-toggle {
		font-size: 0;
	}
}


/* Forums list
--------------------------------------------- */
div#bbpress-forums .bbp-forums {
	font-size: inherit;
	margin: var(--theme-var-grid_gap) 0 0;

	.bbp-forum-info {
		width: 47%;
		padding-right: 20px;
		box-sizing: border-box;
	}
	.bbp-forum-topic-count {
		width: 11%;
		padding-right: 20px;
		box-sizing: border-box;
		text-align: left;
	}
	.bbp-forum-reply-count {
		width: 25%;
		padding-right: 20px;
		box-sizing: border-box;
		text-align: left;
	}
	.bbp-forum-freshness {
		width: 17%;
		text-align: left;
	}

	/* Header & Footer */
	.bbp-header,
	.bbp-footer {
		@include font(12px, inherit, 500);
		text-transform: uppercase;
		letter-spacing: 0.06em;
		color: var(--theme-color-text_dark);
		background-color: var(--theme-color-navigate_bg);
		border: none;
		padding: 16px 19px 15px;
	}	
	.bbp-footer {
		border-top: 1px solid var(--theme-color-bd_color);
		background-color: var(--theme-color-content_bg);
	}

	/* Body */
	.bbp-body {
		& > ul {
			color: var(--theme-color-text_light);
			background-color: var(--theme-color-content_bg);
			border-top: 1px solid var(--theme-color-bd_color);
			padding: calc( var(--theme-var-sm_grid_gap) + ( var(--theme-var-grid_gap_koef) * 8px ) ) 20px calc( var(--theme-var-sm_grid_gap) + ( var(--theme-var-grid_gap_koef) * 6px ) ); // replace 28px 20px 26px

			/* Info */
			.bbp-forum-info {				
				.bbp-row-actions {
					display: none;
				}
				.bbp-forum-title {
					font-weight: 500;
				}
				.bbp-forum-content  {
				    font-size: 13px;
				    margin: 1px 0 0 0;
				}
				.bbp-forums-list {
					border: none;
				}
			}

			/* Topic and reply count */
			.bbp-forum-topic-count,
			.bbp-forum-reply-count {
				font-size: 14px;
			}

			/* Freshness */
			.bbp-forum-freshness { 
				font-size: 14px;

				a {
					color: inherit;

					&:hover,
					&:focus {
						color: var(--theme-color-accent_link);
					}
				}
				.bbp-topic-meta {
				    font-size: 13px;
				    margin: 0;

				    .bbp-author-avatar {
					    display: inline-block;
					    vertical-align: middle;

					    img {
					    	@include box(20px, 20px);
					    	@include border-round;
					    	border: none;
					    	margin-right: 7px;
					    }
					}
					.bbp-author-name {
					    display: inline-block;
					    vertical-align: middle;
					}
				}
			}
		}
	}
}


/* Topics list
--------------------------------------------- */
div#bbpress-forums .bbp-topics {
	font-size: inherit;
	margin: var(--theme-var-grid_gap) 0 0; 

	.bbp-topic-title {
		width: 47%;
		padding-right: 20px;
		box-sizing: border-box;
	}
	.bbp-topic-voice-count {
		width: 11%;
		padding-right: 20px;
		box-sizing: border-box;
		text-align: left;
	}
	.bbp-topic-reply-count {
		width: 25%;
		padding-right: 20px;
		box-sizing: border-box;
		text-align: left;
	}
	.bbp-topic-freshness {
		width: 17%;
		text-align: left;
	}

	/* Header & Footer */
	.bbp-header,
	.bbp-footer {
		@include font(12px, inherit, 500);
		text-transform: uppercase;
		letter-spacing: 0.06em;
		color: var(--theme-color-text_dark);
		background-color: var(--theme-color-navigate_bg);
		border: none;
		padding: 16px 19px 15px;
	}	
	.bbp-footer {
		border-top: 1px solid var(--theme-color-bd_color);
		background-color: var(--theme-color-content_bg);
	}

	/* Body */
	.bbp-body {
		& > ul {
			color: var(--theme-color-text_light);
			background-color: var(--theme-color-content_bg);
			border-top: 1px solid var(--theme-color-bd_color);
			padding: calc( var(--theme-var-sm_grid_gap) + ( var(--theme-var-grid_gap_koef) * 8px ) ) 20px calc( var(--theme-var-sm_grid_gap) + ( var(--theme-var-grid_gap_koef) * 6px ) ); // replace 28px 20px 26px

			/* Info */
			.bbp-topic-title {
				.bbp-row-actions {
					display: none;
				}
				.bbp-topic-permalink {
					font-weight: 500;
				}
				.bbp-topic-meta {
				    font-size: 13px;
				    margin: 1px 0 0;

				    img.avatar,
				    .bbp-author-avatar img {
				    	@include box(20px, 20px);
				    	@include border-round;
				    	border: none;
				    	margin-right: 7px;
				    }

					span {
						white-space: normal;
					}
				}
			}

			/* Topic and reply count */
			.bbp-topic-reply-count, 
			.bbp-topic-voice-count {
				font-size: 14px;
			}

			/* Freshness */
			.bbp-topic-freshness { 
				font-size: 14px;

				a {
					color: inherit;

					&:hover, 
					&:focus {
						color: var(--theme-color-accent_link);
					}
				}
				.bbp-topic-meta {
				    font-size: 13px;
				    margin: 0;

				    .bbp-author-avatar {
					    display: inline-block;
					    vertical-align: middle;

					    img {
					    	@include box(20px, 20px);
					    	@include border-round;
					    	border: none;
					    	margin-right: 7px;
					    }
					}
					.bbp-author-name {
					    display: inline-block;
					    vertical-align: middle;
					}
				}
			}

			/* Sticky */
			&.sticky {
				background-color: var(--theme-color-accent_link) !important;
				background-image: url(../../images/block_bg.png);
				background-size: cover;
				background-position: center;
				@include border-sharp;
				color: var(--theme-color-accent_text);

				a {
					color: inherit;

					&:hover,
					&:focus {
						color: var(--theme-color-accent_link3);
					}
				}
			}
		}
	}
}
div#bbpress-forums .bbp-pagination + .bbp-no-topic {
	margin-top: var(--theme-var-grid_gap);
}


/* Replies
--------------------------------------------- */
div#bbpress-forums .bbp-replies {
	font-size: inherit;
	border: none;
	margin: var(--theme-var-grid_gap) 0 0; 
	overflow: visible;

	.bbp-reply-author {
	  width: 101px;
	  text-align: left;
	}
	.bbp-reply-content {
		margin-left: 8.8em;
	}

	/* Header & Footer */
	.bbp-header,
	.bbp-footer {
		@include font(12px, inherit, 500);
		text-transform: uppercase;
		letter-spacing: 0.06em;
		color: var(--theme-color-text_dark);
		background-color: var(--theme-color-navigate_bg);
		padding: 15px 18px 14px;
		@include border-radius(5px);
		border: 1px solid var(--theme-color-bd_color);
		box-shadow: 0 5px 30px rgba(0,0,0,0.04); 
	}

	/* Body */
	.bbp-body {
		margin-top: calc( var(--theme-var-grid_gap) + ( var(--theme-var-grid_gap_koef) * 3px ) ); // replace 33px
		margin-bottom: calc( var(--theme-var-grid_gap) + ( var(--theme-var-grid_gap_koef) * 6px ) ); // replace 36px

		/* Date */
		.bbp-reply-header {
			background-color: transparent;
			border: none;
			padding: 0;
			margin: calc( var(--theme-var-sm_grid_gap) + ( var(--theme-var-grid_gap_koef) * 9px ) ) 0 0 8.33em; // replace 29px 0 0 8.33em

			&:first-child {
				margin-top: 0;
			}

			.bbp-meta {
			    font-size: 13px;
				color: var(--theme-color-text_light);
				display: flex;
				flex-wrap: wrap;

				.bbp-header {
					@include font(inherit, inherit, inherit);
					text-transform: inherit;
					letter-spacing: inherit;					
					color: inherit;
					background-color: inherit;
					padding: inherit;
					@include border-sharp();
					border: none;
					box-shadow: none; 
				}
			    .bbp-reply-permalink {
			    	margin-left: auto;
					color: var(--theme-color-text_light);
				}
			    .bbp-admin-links {
			    	float: none;
					clear: both;
					width: 100%;

			    	a {
				    	font-size: 11px; 
						color: var(--theme-color-text_light);
				    	text-transform: uppercase;
						letter-spacing: 0.06em;

				    	&:hover,
				    	&:focus  {
							color: var(--theme-color-accent_link);
				    	}
				    }
			    }
			}
		}

		/* Topic & Reply */
		.topic,
		.reply {
			padding: 0;
			margin-top: 10px;
		    background-color: transparent;

		    /* Avatar */
		    .bbp-reply-author {
		    	text-align: center;
				width: 101px;

		    	.bbp-author-link,
		    	.bbp-author-avatar {
				    display: block;

				    img {
						@include border-round;
						width: 85px;
						max-width: 85px;
						margin: 0;
			    	}
				}
				.bbp-author-link {			
					.bbp-author-name {
					    font-size: 13px;
					    font-weight: 500;
					    margin: 4px 0 0;
				    	color: var(--theme-color-text_dark);
				    	@include transition-colors;
					}
					&:hover .bbp-author-name {
				    	color: var(--theme-color-accent_hover);
					}
				}	    

				.bbp-author-role,
				.bbp-reply-ip,
				.bpbm-private-message-link-buddypress {    
					@include font(11px, 1.5em, 500, normal);
			    	color: var(--theme-color-text_light);
				}	
				.bbp-author-ip {
					@include font(inherit, inherit, inherit);
			    	color: inherit;
				}
				.bpbm-private-message-link-buddypress {
					color: inherit;

					&:hover {
			    		color: var(--theme-color-accent_link);
					}
				}
		    }

		    /* Content */
		    .bbp-reply-content {
			    border: 1px solid var(--theme-color-bd_color);
			    color: var(--theme-color-text_light);
			    background-color: var(--theme-color-content_bg);
				@include border-radius(5px);
				position: relative;
				font-size: 14px;
				padding: calc( var(--theme-var-sm_grid_gap) + ( var(--theme-var-grid_gap_koef) * 5px ) ) 17px; // replace 25px 17px
		    	margin-left: 8.92em;

				&:before {
					content: '';
					border: 1px solid;
					border-color: transparent transparent var(--theme-color-bd_color) var(--theme-color-bd_color);
			    	background-color: var(--theme-color-content_bg);
			    	@include abs-lt(-6px, 38px);
			    	@include box(8px, 8px);
			    	transform: rotate(45deg);
				}
				&:after {
					display: none;
				}
				p:last-child {
					margin-bottom: 0;
				}
				.bbp-reply-revision-log {
					padding-top: 1.6em;
				}
				.bbp-reply-revision-log img.avatar,
				.bbp-topic-revision-log img.avatar {
					border: none;
					@include border-round;
				}
			}
		}
	}

	/* Message */
	& + .bbp-pagination  + .bbp-no-reply {
    	margin-top: var(--theme-var-grid_gap);
	}
}


/* Search
--------------------------------------------- */
div#bbpress-forums .bbp-search-results {
	font-size: inherit;
	border: none;
	margin: var(--theme-var-grid_gap) 0 0; 
	overflow: visible;

	.bbp-search-author {
	  width: 101px;
	  text-align: left;
	}
	.bbp-search-content {
		margin-left: 8.8em;
	}

	/* Header & Footer */
	.bbp-header,
	.bbp-footer {
		@include font(12px, inherit, 500);
		text-transform: uppercase;
		letter-spacing: 0.06em;
		color: var(--theme-color-text_dark);
		background-color: var(--theme-color-navigate_bg);
		padding: 15px 18px 14px;
		@include border-radius(5px);
		border: 1px solid var(--theme-color-bd_color);
		box-shadow: 0 5px 30px rgba(0,0,0,0.04); 
	}

	/* Body */
	.bbp-body {
		margin-top: calc( var(--theme-var-grid_gap) + ( var(--theme-var-grid_gap_koef) * 3px ) ); // replace 33px
		margin-bottom: calc( var(--theme-var-grid_gap) + ( var(--theme-var-grid_gap_koef) * 6px ) ); // replace 36px

		/* Date */
		.bbp-topic-header,
		.bbp-reply-header {
			background-color: transparent;
			border: none;
			padding: 0;
			margin: calc( var(--theme-var-sm_grid_gap) + ( var(--theme-var-grid_gap_koef) * 9px ) ) 0 0 8.33em; // replace 29px 0 0 8.33em

			&:first-child {
				margin-top: 0;
			}

			.bbp-meta {
			    font-size: 13px;
				color: var(--theme-color-text_light);
				display: flex;
				flex-wrap: wrap;

			    .bbp-topic-permalink,
			    .bbp-reply-permalink {
			    	margin-left: auto;
					color: var(--theme-color-text_light);
				}
			}
			.bbp-topic-title h3,
			.bbp-reply-title h3 {
				line-height: 1.217em;
			}
			.bbp-topic-title a,
			.bbp-reply-title a {
				display: inline-block;
			}
			.bbp-topic-title-meta,
			.bbp-reply-title-meta {
			    @include font(13px, 1.6em);
				color: var(--theme-color-text_light);
				display: flex;
				flex-wrap: wrap;

				a {
					margin-left: 5px;
				}
			}
		}

		/* Topic & Reply */
		.topic,
		.reply {
			padding: 0;
			margin-top: 10px;
		    background-color: transparent;

		    /* Avatar */
		    .bbp-topic-author,
		    .bbp-reply-author {
		    	text-align: center;
				width: 101px;

		    	.bbp-author-link,
		    	.bbp-author-avatar {
				    display: block;

				    img.avatar {
						@include border-round;
						width: 85px;
						max-width: 85px;
						margin: 0;
			    	}
				}
				.bbp-author-link {			
					.bbp-author-name {
					    font-size: 13px;
					    font-weight: 500;
					    margin: 4px 0 0;
				    	color: var(--theme-color-text_dark);
				    	@include transition-colors;
					}
					&:hover .bbp-author-name {
				    	color: var(--theme-color-accent_hover);
					}
				}	    

				.bbp-author-role,
				.bbp-reply-ip,
				.bpbm-private-message-link-buddypress {    
					@include font(11px, 1.5em, 500, normal);
			    	color: var(--theme-color-text_light);
				}	
				.bbp-author-ip {
					@include font(inherit, inherit, inherit);
			    	color: inherit;
				}
				.bpbm-private-message-link-buddypress {
					color: inherit;

					&:hover {
			    		color: var(--theme-color-accent_link);
					}
				}
		    }

		    /* Content */
		    .bbp-topic-content,
		    .bbp-reply-content {
			    border: 1px solid var(--theme-color-bd_color);
			    color: var(--theme-color-text_light);
			    background-color: var(--theme-color-content_bg);
				@include border-radius(5px);
				position: relative;
				font-size: 14px;
				padding: calc( var(--theme-var-sm_grid_gap) + ( var(--theme-var-grid_gap_koef) * 5px ) ) 17px; // replace 25px 17px
		    	margin-left: 8.92em;

				&:before {
					content: '';
					border: 1px solid;
					border-color: transparent transparent var(--theme-color-bd_color) var(--theme-color-bd_color);
			    	background-color: var(--theme-color-content_bg);
			    	@include abs-lt(-6px, 38px);
			    	@include box(8px, 8px);
			    	transform: rotate(45deg);
				}
				&:after {
					display: none;
				}
				p:last-child {
					margin-bottom: 0;
				}
				.bbp-topic-revision-log {
					padding-top: 1.6em;
				}
				.bbp-topic-revision-log img.avatar {
					border: none;
					@include border-round;
				}
			}
		}

		/* Forums */
		.bbp-forum-header {
			background-color: var(--theme-color-navigate_bg);
			padding: 15px 18px 14px;
			border-radius: 5px;
			border: 1px solid var(--theme-color-bd_color);
			box-shadow: 0 5px 30px rgba(0, 0, 0, 0.04);
			margin-top: calc( var(--theme-var-sm_grid_gap) + ( var(--theme-var-grid_gap_koef) * 9px ));

			.bbp-meta {
				font-size: 13px;
				color: var(--theme-color-text_light);

				a {
					color: inherit;
				}
			}
			.bbp-forum-title a {
				display: inline-block;
			}
		}
		.forum {  
			padding: 0;
  			background-color: transparent;

			/* Content */
			.bbp-forum-content {
				margin-left: 0;
				color: var(--theme-color-text_light);
				font-size: 14px;
				margin-top: calc( var(--theme-var-sm_grid_gap) + ( var(--theme-var-grid_gap_koef) * 5px ));
				padding: 0;
			}
		}
	}

	/* Message */
	& + .bbp-pagination  + .bbp-no-reply {
    	margin-top: var(--theme-var-grid_gap);
	}
}


/* Reply & Topic form
--------------------------------------------- */
div#bbpress-forums .bbp-reply-form,
div#bbpress-forums .bbp-topic-form {
    margin-top: var(--theme-var-grid_gap);

    .bbp-form {
    	border: none;
		padding: 0;
		margin: 0;

		br {
			display: none;
		}
		h2, legend {
			padding: 0;
			margin: 0 0 var(--theme-var-grid_gap);
		}
		p, .bbp-the-content-wrapper  {
			margin: 0;
		}
    }
}


/* Merge topics  
--------------------------------------------- */
div#bbpress-forums .bbp-topic-merge {	
    margin-top: var(--theme-var-grid_gap);

	.bbp-form .bbp-form,
	.bbp-form + .bbp-form {
    	margin-top: var(--theme-var-grid_gap);
	}
    .bbp-form {
		border: none;
		padding: 0;
		margin-bottom: 0;

		legend {
			padding: 0;
   			margin-bottom: var(--theme-var-grid_gap);
		}
		& > label,
		*:not(h3):not(.radio):not(.checkbox) > label:first-child,
		*:not(.radio):not(.checkbox) > *:not([type="checkbox"]):not([type="radio"]) + label {
			font-size: inherit;
		    line-height: inherit;
			font-weight: 500;
		    margin: var(--theme-var-label_margin);
		    display: block;
		    color: var(--theme-color-text_dark);
		}
		.select_container select {
   			margin-bottom: 0;
		}

		input[type="checkbox"] + label:not([for="bbp_topic_tags"]) {
	    	margin-bottom: 15px;
		}
		.bbp-form + .bbp-template-notice {
	    	margin-top: var(--theme-var-grid_gap) !important;
		}
		.bbp-submit-wrapper {
	    	margin-top: var(--theme-var-grid_gap);
		}
	}
}


/* Topic tag form  
--------------------------------------------- */
div#bbpress-forums .bbp-topic-tag-form {
    margin-top: var(--theme-var-grid_gap);

    .bbp-form:not(#bbp-edit-topic-tag) {
		padding: 10px var(--theme-var-grid_gap) var(--theme-var-grid_gap);
		border-color: var(--theme-color-bd_color);

		&:not(:last-child) {
			margin-bottom: var(--theme-var-grid_gap);
		}
	}
	#bbp-edit-topic-tag {
		padding: 0;
		border: none;

		& > legend {
			padding: 0;
		}
	}
	#delete_tag, 
	#merge_tag {
		display: block;
	}
	.bbp-submit-wrapper {
		float: none;
		margin-top: 0;
	}
}


/* RTMedia  
--------------------------------------------- */
div#buddypress {
	/* Media uploader */
	.rtmedia-uploader-div {
		.rtmedia-uploader {
			/* Privacy terms */
			.rtmedia-upload-terms #rtmedia_upload_terms_conditions, 
			.rtmedia-upload-terms label {
				padding-left: 2.15em;
				margin-top: 20px;
			}

			/* Messages */
			.rt_alert_msg {
				font-size: 12px;
				margin-top: 10px;
			}

			/* Media list */
			.rtm-plupload-list {
				margin: 0 -5px -5px 0;
				overflow: hidden;

				li {
					padding: 5px !important;
					margin: 0 5px 5px 0;
					background-color: var(--theme-color-navigate_bg);

					/* Info */
					.plupload_file_name {
						/* Edit */
						.dashicons {
							background: var(--theme-color-navigate_bg);
						}

						/* Input & Textarea */
						.rtm-upload-edit-title-wrapper,
						.rtm-upload-edit-desc-wrapper {							
							margin-top: 5px;
						}
						input, textarea {		
							font-size: 12px !important;					
							color: var(--theme-color-input_text) !important;		
							padding: 5px;		
							margin-top: 5px;
							@include border-radius(5px);
						}
					}

					/* Close */
					.plupload_file_action {
						background: var(--theme-color-navigate_bg);
					}
				}
			}
		}	
	}

	/* Media in the user activity stream */
	.rtmedia-activity-container {
		.rtmedia-activity-text + ul.rtmedia-list,
		ul.rtmedia-list li + li {
	    	margin-top: calc( var(--theme-var-sm_grid_gap) + ( var(--theme-var-grid_gap_koef) * 4px ) ); // replace 24px

	    	&:empty {
	    		display: none;
	    	}
		}
		ul.rtmedia-list:first-child {
			margin-top: 5px;
		}
		ul.rtmedia-list:last-child {
			margin-bottom: 0;
		}
		ul.rtmedia-list li {
	    	padding-top: 0;
	    	padding-bottom: 0;
	    	border-bottom: none;
	    	display: block;

	    	& > a {
	    		display: block;
	    	}

	    	/* Title */
	    	.rtmedia-item-title {
	    		margin-top: 5px !important;
	    		display: none;
	    	}
	    	.rtmedia-item-title,
	    	.rtmedia-item-title a {
			    margin: 0px;
			    color: inherit;

			    br {
			    	display: none;
			    }
			}

	    	/* Audio */
			&.media-type-music {
		    	width: 100% !important;

		    	.mejs-container {
				    margin-bottom: 0;
				}
			}

			/* Video */
			&.media-type-video {
			    width: auto !important;
			    height: unset !important;

			    .rtmedia-item-thumbnail,
			    .mejs-video {
			    	height: unset !important;
			    }
		    	.mejs-container {
					@include border-sharp;

					.mejs-mediaelement {
						height: unset;
  						position: relative;
					}
				}
			}

			/* Video and photo */
			&.media-type-video div.rtmedia-item-thumbnail, 
			&.media-type-photo a {
			    height: 100% !important;
			}
			&.media-type-photo a .rtmedia-item-thumbnail img {
			    width: auto !important;
				height: auto !important;
			}
		}		
		ul.rtmedia-list.rtm-activity-photo-list:not(.rtmedia-activity-media-length-1) {
			display: grid;
			grid-template-columns: 1fr 1fr;
			grid-gap: 11px;

			li {
				padding: 0;
				margin: 0;
			}
		}
	}
}


/* RTMedia - Popup
--------------------------------------------- */
.rtmedia-popup {	
	@include border-radius(15px);
	box-shadow: 0 3px 20px #1d26260d; 
	padding: calc( var(--theme-var-grid_gap) + ( var(--theme-var-grid_gap_koef) * 15px ) ) calc( var(--theme-var-grid_gap) + ( var(--theme-var-grid_gap_koef) * 14px ) ); // replace 45px 44px
	background-color: var(--theme-color-content_bg);

	.rtm-modal-title {
	    margin-bottom: 1em;
	}
	.mfp-close {
		color: var(--theme-color-text);
		margin: 11px;
		font-size: 30px;
	}
}


/* RTMedia - Lightbox
--------------------------------------------- */
.mfp-wrap .mfp-container div#buddypress .rtmedia-single-container {
	padding: 0;

	.rtm-lightbox-container {
		&:before,
		&:after {
			display: none;
		}

		.rtm-mfp-close {
			width: 22px;
			height: 22px;
			left: auto;
			top: 0;
			right: 0;
			margin: calc( -1 * var(--theme-var-grid_gap) ) 0 0; // replace -30px 0 0
		}

		/* Media info */
		.rtmedia-single-meta {
			padding: var(--theme-var-grid_gap);

			/* User */
			.rtm-user-meta-details {
				margin-bottom: 20px;

				/* Photo */
				.userprofile {
					max-width: 44px;
					margin: 0 15px 0 0;

					img {
						@include border-round;
					}
				}

				/* Name */
				.username {
					margin-bottom: 0;
					 a {
						font-weight: 500;
						color: var(--theme-color-text_dark);

						&:hover {
							color: var(--theme-color-accent_link);
						}
					}
				}
				.rtm-time-privacy {
					&:before,
					&:after {
						display: none;
					}

					.dashicons {
						vertical-align: middle;
					}
				}
			}

			/* Comments */
			.rtmedia-item-comments {
				.rtmedia-actions-before-comments {
					margin-bottom: 5px;

					button, a {
						color: var(--theme-color-text);
						box-shadow: none;
						background-color: transparent;
						letter-spacing: 0;

						&:hover {
							color: var(--theme-color-text_dark);
						}
					}
				}
			}
			.rtm-media-single-comments {
				padding: 0;

				textarea {
					max-height: unset;
					min-height: unset;
					padding: var(--theme-var-input_padding);
					@include border-sharp;
					margin-bottom: 15px;
				}
			}
			.rtmedia-no-comments {
			  line-height: 16px;
			}
		}
	}
}


/* RTMedia - All
--------------------------------------------- */
div#buddypress #item-body > .rtmedia-container {
    margin-top: var(--theme-var-grid_gap);

    /* Title */
	.rtm-gallery-title {
		margin: 0 0 0.7em 0;
	}

	/* Options */
	.rtm-media-options {    
		line-height: inherit;
    	margin-bottom: var(--theme-var-grid_gap);

		#rtm-media-options-list,
		#rtm_show_upload_ui {
		    @include font(13px, inherit, 500);
		    margin: 0;
		    padding: 11px 0 14px;
		    color: var(--theme-color-text_dark);
		    border: none;
			border-bottom: 1px solid var(--theme-color-bd_color);
			vertical-align: top;
			display: inline-block;
			@include transition-colors;

			&:hover {
				color: var(--theme-color-accent_link2);
				border-bottom: 1px solid var(--theme-color-accent_link2);
			}
			.dashicons {
			    font-size: inherit;
			    line-height: inherit;
			}

			&#rtm-media-options-list {
				margin-right: calc( var(--theme-var-sm_grid_gap) + ( var(--theme-var-grid_gap_koef) * 6px ) ); // replace 26px
				position: relative;

				&:after {
					content: '';
					@include abs-pos(auto, -26px, -1px, 100%);
					height: 1px;
					background-color: var(--theme-color-bd_color);
					@include transition-colors;
				} 
				&:hover:after {
					background-color: var(--theme-color-accent_link2);
				}

				.rtm-options {
					background-color: var(--theme-color-accent_link4);

					&:after {
						border-bottom-color: var(--theme-color-accent_link4);
					}
				}
			}
		}
	}

	/* Search */
	#media_search_form {
		padding: 0;
		margin: 0;
		border: none;
		position:relative;

		#media_search_input {
			max-height: unset;
			padding-top: 15px;
			padding-bottom: 15px;
			padding-left: 20px;
			border: 1px solid var(--theme-color-input_bd_color);
		}
	}

	/* Upload */
	#rtm-media-gallery-uploader {
    	margin-bottom: var(--theme-var-grid_gap);
	
		#rtmedia-uploader-form {
			/* Drag & Drop */
			.drag-drop {
				color: inherit;
				background: transparent;
	    		margin-top: var(--theme-var-grid_gap);

				.rtm-album-privacy span {
					font-size: inherit;

					label {
						font-weight: 500;
					    margin: 0 0 14px;
					    display: block;
					    color: var(--theme-color-text_dark);

						i {
							display: none
						}
					}
				}

				.rtm-upload-tab-content {
					.rtmedia-upload-input,
					.rtm-seperator,
					.drag-drop-info,
					.dashicons-info {
						display: inline-block;
						vertical-align: middle;
					}
					.rtm-seperator {
						margin: 0px 10px
					}
					.drag-drop-info {
						@include font(inherit, inherit, inherit);
					}
				}
			}

			/* Media list */
			#rtmedia_uploader_filelist {
				padding: 0;
	    		margin-top: var(--theme-var-grid_gap);
			}
		}
	}



	/* Media list */
	.rtmedia-list { 
		margin: 0 -15px -15px 0;
		overflow: hidden;

		li {
			margin: 0;
			padding: 0 15px 15px 0;
			border-color: var(--theme-color-bd_color);
			max-width: 50%;

			.rtmedia-gallery-item-actions {   
				width: calc(100% - 15px);
				bottom: 15px; 
				opacity: 1;
				background-color: transparent;

				a {
					width: 50%;
					padding: 5px 0;
					display: block;
					float: left;
					text-align: center;
					@include font(12px, 21px, 600);
					letter-spacing: 0.06em;
					color: var(--theme-color-accent_text);
					background-color: var(--theme-color-accent_link);

					i {
						display: none;
					}
					&:hover,
					&:focus {
						background-color: var(--theme-color-accent_hover);
					}
				}
				.rtm-delete-media {
					background-color: var(--theme-color-accent_link2);
					
					&:hover,
					&:focus {
						background-color: var(--theme-color-accent_hover2);
					}
				}
			}

			.rtmedia-list-item-a {
				.rtmedia-item-thumbnail {
					max-width: 100%;
					background-color: var(--theme-color-content_bg);

					.rtmedia_time {
						right: 15px;
					}
					img {
						max-width: 100%;
					}
				}
			}

			.rtmedia-album-media-count {
			    background-color: var(--theme-color-accent_link4);
			    color: var(--theme-color-accent_text);
			    padding: 0 7px;
			}
		}
	}
	.rtmedia-no-media-found {
	    min-height: auto;
	    margin-bottom: 0;
	}

	/* Load more */
	.rtm-load-more {
		background: transparent;
		padding: 0;
		line-height: inherit;
		margin-top: var(--theme-var-grid_gap);

		a {  
			display: block !important;
			margin: auto;
			width: fit-content;
		}
	}
}


/* RTMedia - Edit media
--------------------------------------------- */
div#buddypress #item-body > .rtmedia-media-edit {
    /* Title */
	.rtmedia-title {
		margin: 0 0 0.7em 0;
	}

	/* Tabs */
	.rtm-tabs {    
		border: 0;
    	margin: 0 0 var(--theme-var-grid_gap);

		li {		    
			margin: 0;
			padding-right: calc( var(--theme-var-sm_grid_gap) + ( var(--theme-var-grid_gap_koef) * 6px ) ); // replace 26px
			border: none; 
			border-bottom: 1px solid var(--theme-color-bd_color);

			&:after {
				display: none;
			}
			a {
				@include font(13px, inherit, 500);
				color: var(--theme-color-text_dark);
				background-color: transparent;
				padding: 0 0 14px;
				margin-bottom: -1px;
				border-bottom: 1px solid var(--theme-color-bd_color);
				@include transition-colors;
			}
			&.active a,
			&:hover a {
				color: var(--theme-color-accent_link2);
				border-bottom: 1px solid var(--theme-color-accent_link2);
			}
		}
		li:last-child {
			padding-right: 0;
		} 
	}

	/* Tabs content */
	.rtm-tabs-content {
		#panel2 .wp_attachment_image > p {
    		margin-bottom: var(--theme-var-grid_gap);

    		.button {
    			float: none;
    			margin: 0;
    		}
		}
	}

	/* Fields */
	.rtm-field-wrap {
		margin-bottom: 0;
	}

	/* Buttons */
	.rtmedia-editor-buttons .button + .button {
		margin-left: 11px;
	}

	/* Edit Image */
	#rtmedia_media_single_edit {
		.imgedit-wrap {
			padding: 0;
		}

		.imgedit-panel-content {
			margin-bottom: var(--theme-var-grid_gap);

			.imgedit-menu {
				font-size: 0;
				min-width: unset;
				margin: -6px -6px var(--theme-var-grid_gap) 0;

				.button {    
					@include font(11px, 18px, 500);
				    letter-spacing: 0.1em;
				    text-shadow: none;
				    border-style: solid;
				    border-width: 1px !important;
				    padding: 5px 15px;
				    margin: 6px 6px 0 0;
				    @include theme_button_colors_style_border;

					&:before {
						font-size: 13px;
				    	font-weight: 400;
				    	top: -1px;
					}
					&:hover,
					&:focus {
						@include theme_button_colors_hover_style_border;
					}
				}
			}

			.imgedit-crop-wrap {
				margin-bottom: var(--theme-var-grid_gap);
			}

			.imgedit-submit {
				margin: 0;

				input[type="button"] + .button {
					margin-left: 11px;
				}
			}
		}

		.imgedit-settings {
			padding: 0;

			.imgedit-group,
			.imgedit-group-top,
			.imgedit-submit,
			.imgedit-scale,
			fieldset {
				margin: 0;
				padding: 0;
			}
			.imgedit-group + .imgedit-group {
				margin-top: var(--theme-var-grid_gap);
			}
			.imgedit-group .dashicons {
				line-height: inherit;
			}

			h2 {
				margin-bottom: 0.7em;
			}
			p {
				margin: 0 0 1em;
			}
			.nowrap {
				white-space: normal;
			}
			input[type="text"] {
				width: auto;
				max-width: calc(50% - 7px);
				font-size: 13px;
				padding: var(--theme-var-input_padding) 20px;
			}
			.imgedit-scale-warn {
				display: none;
			}
			.imgedit-separator {
			    font-size: inherit;
			    color: inherit;
			    vertical-align: middle;
			    margin-bottom: var(--theme-var-grid_gap);
			}
			.dashicons-editor-help {
				display: none;
			}
			.imgedit-scale-button-wrapper {
			    margin-top: 0;
			    display: block;
			}
		}
	}
}


/* RTMedia - Single media
--------------------------------------------- */
div#buddypress #item-body .rtmedia-single-container {	
	margin-top: var(--theme-var-grid_gap);	

	.rtmedia-media-title {
		display: none;
	}

	/* Buttons */
	.rtmedia-item-actions {
		margin-top: var(--theme-var-grid_gap);

		form {
			margin: 0 10px 0 0;
			padding: 0;
		}	
	}

	/* Comments */
	.rtmedia-item-comments {
		margin-top: var(--theme-var-grid_gap);

		/* Buttons */
		.rtmedia-actions-before-comments {
			button {

			}
		}

		.rtm-like-comments-info {
			margin-top: var(--theme-var-grid_gap);
		}

		#rt_media_comment_form {
			margin-top: var(--theme-var-grid_gap);
		}
	}
}


/* Profile settings  
--------------------------------------------- */
div#buddypress #item-body #settings-form {
    margin-top: var(--theme-var-grid_gap);

    & > p:first-child {
		font-weight: 500;
	    margin: 0 0 14px;
	    display: block;
	    color: var(--theme-color-text_dark);
    }

    table {
    	width: 100%;
    	margin-bottom: var(--theme-var-grid_gap);

    	.yes, .no {
    		input[type="checkbox"], input[type="radio"] {
    			position: relative !important;
    			margin: 0 !important;
    		}
    	}
    	.field-visibility-settings-notoggle {
    		margin: 0;
    	}
    }

	/* Password */
	a[href*="=lostpassword"] {
		display: inline-block;
		margin-bottom: var(--theme-var-grid_gap);
	}
}


/* Register & Login
--------------------------------------------- */
div#buddypress #signup_form.standard-form {
	overflow: hidden;
	
	/* Inputs */
	input[type="text"],
	input[type="password"],
	input[type="email"] {
		width: 100%;
	}

	/* Submit */
	#signup_submit {
		margin-right: 0;
	}

	/* Messages */
	div.error,
	#pass-strength-result {  
		@include font(12px, 1.4em); 
		text-align: left;
		width: auto;
		padding: 0;
		margin-top: calc( -1 * var(--theme-var-grid_gap) + 4px );
    	margin-bottom: 15px;
    	border: none;
		color: var(--theme-color-accent_link2);
		background-color: transparent;
	}

	/* Validation */
	.not-valid {
		border-color: var(--theme-color-accent_link2_05) !important;
	}
	#pass-strength-result {
		width: auto;

		&.bad {
			color: var(--theme-color-accent_link3);
		}
		&.good,
		&.strong {
			color: var(--theme-color-accent_link5);
		}
	}
}


/* Widgets
--------------------------------------------- */
/* Recently Active Members */
.widget.widget_bp_core_recently_active_widget,
.wp-widget-bp_core_recently_active_widget {
	.avatar-block {
	    display: grid;
	    grid-template-columns: repeat(4, 1fr);
	    grid-column-gap: 8px;
	    grid-row-gap: 8px; 

	    .item-avatar a {
   			float: none;
	    	margin: 0;
	    	position: relative;

		    img {
			    margin: 0;
			    height: auto;
			    width: 100%;
   				@include border-round;
			}
	    }
	}
	.avatar-block + .sc_button_wrap,
	.widget-error + .sc_button_wrap {
	    margin-top: calc( var(--theme-var-sm_grid_gap) + ( var(--theme-var-grid_gap_koef) * 4px ) ); // replace 24px
		margin-bottom: -6px;
	}

	/* Tooltip */
	.bp-tooltip::before {
		content: '';
		@include abs-lb(50%, 100%);
		@include translateX(-50%);
		border: 4px solid;
		border-color: var(--theme-color-bg_color) transparent transparent;
		display: block;
		margin-bottom: 1px;
		display: none;
	}
	.bp-tooltip:hover::before {
		display: block;
	}
	.bp-tooltip::after {
		color: var(--theme-color-text);
		background-color: var(--theme-color-bg_color);
		box-shadow: none;
		border: none;
		@include border-radius(6px);
		margin-top: 0;
		margin-bottom: 9px;
		top: auto;
		bottom: 100%;
	}
}


/* Who's online */
.widget.widget_bp_core_whos_online_widget,
.wp-widget-bp_core_whos_online_widget {
	.avatar-block {
	    display: grid;
	    grid-template-columns: repeat(3, 1fr);
	    grid-column-gap: 15px;
	    grid-row-gap: 25px; 

	    .item-avatar {
	    	position: relative;

	    	&:before {
	    		content: '';
	    		@include box(16px, 16px);
	    		background-color: var(--theme-color-accent_link5);
	    		border: 3px solid var(--theme-color-content_bg);
	    		@include border-round;
	    		@include abs-rt(3px, 0);
	    	}

	  		a {
	   			float: none;
		    	margin: 0;

			    img {
				    margin: 0;
				    height: auto;
				    width: 100%;
	   				@include border-round;
				}
		    }
	    }
	}
}


/* Recent Topics */
.widget.widget_display_topics,
.wp-widget-bbp_topics_widget {
	&.with_author ul {
    	padding: 0;
    	margin-top: 0;

		li + li {
    		margin-top: 20px;
		}
		li {
		    font-size: 11px;
			color: var(--theme-color-text_light);
		    text-transform: uppercase;
			padding-left: 8.18em; 
			min-height: 75px;
		    display: flex;
		    flex-wrap: wrap;
		    align-content: center;

			&:before {
				display: none;
			}

			/* Forum title */
			.bbp-forum-title {
				font-size: 15px;
				font-weight: 500;
		    	line-height: 1.333em;
			    text-transform: none;
		    	display: block;
	    		width: 100%;
			    margin-top: 4px;
			    margin-bottom: 0;
			}

			/* Topic author */
			.topic-author {
			    margin-left: 0.3em;

				img {
				    position: absolute;
				    left: 1px;
				    top: 0;
				    width: 75px;
				}
				a .bbp-author-name {		
					color: var(--theme-color-text_light);		
					@include transition(all 0.3s ease);
				}
				a:hover .bbp-author-name {				
					color: var(--theme-color-accent_link);
				}
			}
			div {
	    		line-height: 1.61em;
			}
		}
	}
}


/* Members */
.widget.widget_bp_core_members_widget,
.wp-widget-bp_core_members_widget,
/* Groups */
.widget.widget_bp_groups_widget,
.wp-widget-bp_groups_widget {
	/* Count */
	.members_count {
		@include font(12px, 1em, 500);
		color: var(--theme-color-accent_text);
		background-color: var(--theme-color-accent_link2);
		float: right;
		padding: 7px 14px;
		margin: 1px 0 0 0;
		@include border-radius(15px); /* ok */
	}

	/* Tabs */
	div.item-options {
		font-size: inherit;
		margin: 0 -3px -8px 0;
		padding: 0;

		a {
			@include font(11px, inherit, 500);
			letter-spacing: 0.1em;
			text-transform: uppercase;
			padding: 2px 13px;
			margin: 0 3px 8px 0;
			display: inline-block;
			@include border-radius(15px); /* ok */
			color: var(--theme-color-text_dark);
			background-color: var(--theme-color-bg_color);

			&:hover,
			&.selected {
				color: var(--theme-color-accent_text);
				background-color: var(--theme-color-accent_link5);
			}
		}
		.bp-separator {
			display: none;
		}
	}

	/* Members */
	.item-options + .item-list {
    	margin-top: var(--theme-var-grid_gap);
	}
	.item-list {
    	padding: 0;
    	margin-top: 0;

    	li + li {
    		margin-top: 20px;
		}
		li {		
			display: flex;	
    		align-items: center;
    		background: none;

			&:before {
				display: none;
			}

			/* Avatar */
			.item-avatar {    
				margin-right: 14px;

				a {
					float: none;
					margin: 0;

					img {
						@include box(75px, 75px);
						display: block;
					    margin: 0;
					    max-width: unset;
					}
				}
			}

			/* Item */
			.item {
				width: 100%;
				margin: 2px 0 0;
				padding-right: 2em;
				position: relative;

				&:before {
					content: '...';
					position: absolute;
					right: 0;
					top: 50%;
					margin-top: -13px;
					transform: translateY(-50%);

					font-size: 40px;
					letter-spacing: -0.05em;
					color: var(--theme-color-bd_color);
					display: block;
				}

				.item-title {
					font-weight: 500;
				}
				.item-meta {
					@include font(11px, 18px);
				    text-transform: uppercase;
				    margin: 3px 0 1px 0;
				    color: var(--theme-color-text_light);

				    .activity {
					    font-size: inherit;
					}
				}
			}
		}
	}

	.item-list + .sc_button_wrap {
	    margin-top: calc( var(--theme-var-grid_gap) + ( var(--theme-var-grid_gap_koef) * 5px ) ); // replace 35px
		margin-bottom: -6px;
		padding-top: 19px;
		border-top: 1px solid var(--theme-color-bd_color);
		display: block;
	}
}


/* Login */
.wp-widget-bbp_login_widget {
	img.avatar {
		@include border-round;
	}
	h4 {
		margin-top: 0;
		margin-bottom: 0;
		font-size: var(--theme-font-h4_font-size);
		font-weight: 600;
	}
}


/* Replies */
.wp-widget-bbp_replies_widget  {
	.bbp-author-avatar {
		margin-right: 8px;
		vertical-align: middle;
	}
}


//@mixin theme--lg_over() { min-width: 1280px
@media #{$media_lg_over} {
	/* BBPress and BuddyPress */ 
 
	.sidebar_hide div#buddypress #members-dir-list #members-list > li,
	.sidebar_hide div#buddypress #groups-list > li,
	.sidebar_hide div#buddypress #members-group-list #member-list > li {
		width: calc(25% - var(--theme-var-grid_gap));
	}
}