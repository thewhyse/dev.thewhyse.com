jQuery(document).ready(function(e){function t(t,o,i,c,s,_){let d,p;o=void 0===o?"epkb_callback_noop":o,e.ajax({type:"POST",dataType:"json",data:t,url:ajaxurl,beforeSend:function(e){void 0!==_&&!1!==_||n("show",""),"object"==typeof _&&n("show","")}}).done(function(e){((p=e||"").error||void 0===p.message)&&(d=p.message?p.message:a("",epkb_vars.reload_try_again,"error"))}).fail(function(e,t,n){d=n?" ["+n+"]":epkb_vars.unknown_error,d=a(epkb_vars.error_occurred+". "+epkb_vars.msg_try_again,d,"error")}).always(function(){if(p=void 0===p?"":p,"function"==typeof s&&s(p),n("remove",""),d)return e(".eckb-bottom-notice-message").remove(),e("body").append(d).removeClass("fadeOutDown"),void setTimeout(function(){e(".eckb-bottom-notice-message").addClass("fadeOutDown")},1e4);"function"==typeof o?void 0===i?o(p):o(p,i):c&&location.reload()})}function n(t,n){if("show"===t){let t='<div class="epkb-admin-dialog-box-loading"><div class="epkb-admin-dbl__header"><div class="epkb-admin-dbl-icon epkbfa epkbfa-hourglass-half"></div>'+(n?'<div class="epkb-admin-text">'+n+"</div>":"")+'</div></div><div class="epkb-admin-dialog-box-overlay"></div>';e("body").append(t)}else"remove"===t&&(e(".epkb-admin-dialog-box-loading").remove(),e(".epkb-admin-dialog-box-overlay").remove())}function a(e,t,n){return'<div class="eckb-bottom-notice-message"><div class="contents"><span class="'+n+'">'+(e?"<h4>"+e+"</h4>":"")+(t?"<p>"+t+"</p>":"")+'</span></div><div class="epkb-close-notice epkbfa epkbfa-window-close"></div></div>'}function o(){var t=e("body").find(".eckb-bottom-notice-message");t.length&&(t.addClass("fadeOutDown"),setTimeout(function(){t.html("")},1e3))}function i(){e(".eckb-bottom-notice-message").length>0&&(clearTimeout(d),d=setTimeout(function(){o()},1e4))}function c(n,a){let c=e(".epkb-admin__kb__form-save__button").closest(".epkb-admin__form");if(!c.length)return;let s={};return"undefined"!=typeof tinyMCE&&tinyMCE.triggerSave(),c.find("input, select, textarea").each(function(){return"checkbox"===e(this).attr("type")?(e(this).closest(".epkb-admin__checkboxes-multiselect").length?e(this).prop("checked")&&(s[e(this).attr("name")]||(s[e(this).attr("name")]=[]),s[e(this).attr("name")].push(e(this).val())):s[e(this).attr("name")]=e(this).prop("checked")?"on":"off",!0):"radio"===e(this).attr("type")?(e(this).prop("checked")&&(s[e(this).attr("name")]=e(this).val()),!0):void 0===e(this).attr("name")||void(s[e(this).attr("name")]=e(this).val())}),s.epkb_kb_id=e("#epkb-list-of-kbs").val(),t({action:"epkb_apply_settings_changes",_wpnonce_epkb_ajax_action:epkb_vars.nonce,epkb_kb_id:s.epkb_kb_id,kb_config:s},function(t){e(".eckb-top-notice-message").remove(),void 0!==s.kb_name&&e('#epkb-list-of-kbs option[value="'+s.epkb_kb_id+'"]').html(s.kb_name),e("#editor_backend_mode1").length&&e("#editor_backend_mode1").prop("checked")?e("[data-open-editor-link]").data("open-editor-link","back"):e("[data-open-editor-link]").data("open-editor-link","front"),a?location.reload():(void 0!==t.message&&(o(),e("body").append(t.message)),i())}),!1}function s(){let t=e('[name="article_views_counter_enable"]');0!==t.length&&(t.prop("checked")?e("#article_content_enable_views_counter, #article_views_counter_footer_toggle").show():e("#article_content_enable_views_counter, #article_views_counter_footer_toggle").hide())}var _=e("#ekb-admin-page-wrap");e(_).find(".epkb-admin__content").length>0&&e("#wpwrap").addClass("epkb-admin__wpwrap");let d=!1,p=e("#epkb-admin-page-reload-confirmation");e("#epkb-list-of-kbs").on("change",function(t){let n=e(this).find("option:selected");if("core"!==n.attr("data-plugin"))return;if("closed"===n.val())return void(window.location=n.attr("data-target"));let a=window.location.href;if("archived"===e(this).val()){let e=window.location.href.split("#");return void(window.location=e[0]+"&archived-kbs=on")}a=a.replaceAll("&archived-kbs=on","").replaceAll("&epkb_after_kb_setup","");let o=n.attr("data-link");if(void 0!==o&&o.length>0)return window.open(o,"_blank"),void e(this).val(e(this).attr("data-active-kb-id")).trigger("change");let i=e(this).attr("data-active-kb-id"),c=e(this).val();if(c){e(this).attr("data-active-kb-id",c);const t=new Date;t.setTime(t.getTime()+864e5),document.cookie="eckb_kb_id="+c+";expires="+t.toUTCString(),window.location.href=a.replaceAll("epkb_post_type_"+i,"epkb_post_type_"+c)}}),e("#epkb_save_access_control").on("click",function(){t({action:"epkb_save_access_control",_wpnonce_epkb_ajax_action:epkb_vars.nonce,epkb_kb_id:e("#epkb-list-of-kbs").val(),admin_eckb_access_need_help_read:e('#admin_eckb_access_need_help_read input[type="radio"]:checked').val(),admin_eckb_access_search_analytics_read:e('#admin_eckb_access_search_analytics_read input[type="radio"]:checked').val(),admin_eckb_access_addons_news_read:e('#admin_eckb_access_addons_news_read input[type="radio"]:checked').val(),admin_eckb_access_order_articles_write:e('#admin_eckb_access_order_articles_write input[type="radio"]:checked').val(),admin_eckb_access_frontend_editor_write:e('#admin_eckb_access_frontend_editor_write input[type="radio"]:checked').val()},function(t){e(".eckb-top-notice-message").remove(),void 0!==t.message&&(o(),e("body").append(t.message)),i()})}),e("#epkb-admin__boxes-list__tools .epkb-kbnh__feature-links .epkb-primary-btn").on("click",function(){let t=e(this).prop("id");return"epkb_core_export"==t?(e("form.epkb-export-kbs").submit(),!1):0!=e(".epkb-kbnh__feature-panel-container--"+t).length&&(e(this).closest(".epkb-setting-box__list").find(".epkb-kbnh__feature-container").css({display:"none"}),e(this).closest(".epkb-setting-box__list").find(".epkb-kbnh__feature-panel-container--"+t).css({display:"block"}),!1)}),e(document).on("epkb_hide_export_import_panels",function(){e("#epkb-admin__boxes-list__tools .epkb-setting-box__list>.epkb-kbnh__feature-container").css({display:"flex"}),e("#epkb-admin__boxes-list__tools .epkb-setting-box__list>.epkb-kbnh__feature-panel-container").css({display:"none"})}),e(".epkb-kbnh-back-btn").on("click",function(){return e(document).trigger("epkb_hide_export_import_panels"),!1}),e(".epkb-admin__top-panel__item").on("click",function(){if(e(this).hasClass("epkb-admin__top-panel__item--active")){let t=e("epkb-admin__secondary-panel--active").find(".epkb-admin__secondary-panel__item--active").length?e("epkb-admin__secondary-panel--active").find(".epkb-admin__secondary-panel__item--active"):e(e("epkb-admin__secondary-panel--active").find(".epkb-admin__secondary-panel__item")[0]);return void setTimeout(function(){t.trigger("click")},100)}let t=e(this).attr("data-target");e(".epkb-admin__top-panel__item").removeClass("epkb-admin__top-panel__item--active"),e(this).addClass("epkb-admin__top-panel__item--active"),e(".epkb-admin__boxes-list").removeClass("epkb-admin__boxes-list--active"),e("#epkb-admin__boxes-list__"+t).addClass("epkb-admin__boxes-list--active"),e(".epkb-admin__secondary-panel").removeClass("epkb-admin__secondary-panel--active");let n=e("#epkb-admin__secondary-panel__"+t).addClass("epkb-admin__secondary-panel--active"),a=n.find(".epkb-admin__secondary-panel__item--active").length?n.find(".epkb-admin__secondary-panel__item--active"):e(n.find(".epkb-admin__secondary-panel__item")[0]);setTimeout(function(){a.trigger("click")},100);let o=this;setTimeout(function(){"eckb_license_tab"===e(o).attr("id")&&e("#eckb_license_tab").trigger("click")},100),"features"!==t||e(this).hasClass("epkb-admin__flag--visited")||e.ajax({type:"POST",dataType:"json",data:{action:"epkb_features_tab_visited",_wpnonce_epkb_ajax_action:epkb_vars.nonce},url:ajaxurl}).done(function(){e("#epkb-admin__step-cta-box__features .epkb-admin__step-cta-box__header").after('<span class="epkb-admin__step-cta-box__content__icon epkbfa epkbfa-check-circle"></span>')}),window.location.hash="#"+t}),function(){let t=window.location.href.split("#");if(1===t.length)return void e(e(".epkb-admin__top-panel__item")[0]).trigger("click");let n=t[1].split("__"),a=e('.epkb-admin__top-panel__item[data-target="'+n[0]+'"]');if(0===a.length)return void e(e(".epkb-admin__top-panel__item")[0]).trigger("click");if(e(a[0]).trigger("click"),"settings"==n[0]&&n.length>1&&e('.epkb-admin__form-tab[data-target="'+n[1]+'"]').length){setTimeout(function(){e('.epkb-admin__form-tab[data-target="'+n[1]+'"]').trigger("click")},100);let t=e('.epkb-admin__form-tab-content[data-target="'+n[2]+'"]');return void(t.length&&setTimeout(function(){e([document.documentElement,document.body]).animate({scrollTop:t.offset().top-50},700),t.addClass("epkb-highlighted_config_box")},200))}let o='.epkb-admin__secondary-panel__item[data-target="'+t[1]+'"]',i=n.length>1&&n[1].length&&e(o).length?e(o):e(".epkb-admin__secondary-panel--active").find(".epkb-admin__secondary-panel__item")[0];setTimeout(function(){e(i).trigger("click")},100)}(),e(".epkb-admin__secondary-panel__item").on("click",function(){if(e(this).hasClass("epkb-admin__secondary-panel__item--active"))return void(window.location.hash="#"+e(this).attr("data-target"));let t=e(this).attr("data-target"),n=t.split("__")[0];e("#epkb-admin__secondary-panel__"+n).find(".epkb-admin__secondary-panel__item").removeClass("epkb-admin__secondary-panel__item--active"),e(this).addClass("epkb-admin__secondary-panel__item--active"),e("#epkb-admin__boxes-list__"+n).find(".epkb-setting-box__list").removeClass("epkb-setting-box__list--active"),e("#epkb-setting-box__list-"+t).addClass("epkb-setting-box__list--active"),window.location.hash="#"+t}),function(){function t(t,n){_.find(t+" > .nav_tab").on("click",function(){_.find(t+" > .nav_tab").removeClass("active"),e(this).addClass("active"),_.find(n+" > .ekb-admin-page-tab-panel").removeClass("active");var a=e(this).index()+1;_.find(n+" > .ekb-admin-page-tab-panel:nth-child( "+a+" ) ").addClass("active")})}t(".add_on_container .epkb-main-nav > .epkb-admin-pages-nav-tabs","#add_on_panels"),t(".epkb-main-nav > .epkb-admin-pages-nav-tabs","#main_panels"),t("#help_tabs_nav","#help_tab_panel"),t("#new_features_tabs_nav","#new_features_tab_panel")}(),e(".epkb-header__tab").on("click",function(t){let n=e(this).attr("id");e(".epkb-header__tab").removeClass("epkb-header__tab--active"),e(".epkb-content__tab").removeClass("epkb-content__tab--active"),e(this).addClass("epkb-header__tab--active"),e("#"+n+"_content").addClass("epkb-content__tab--active")}),_.find("#epkb-delete-all-data__form").on("submit",function(t){t.preventDefault(),e("#epkb-editor-delete-warning").addClass("epkb-dialog-box-form--active")}),e("#epkb-editor-delete-warning .epkb-dbf__footer__accept").on("click",function(){e("#epkb-editor-delete-warning").removeClass("epkb-dialog-box-form--active");let n=e("#epkb-delete-all-data__form");t({action:"epkb_delete_all_kb_data",_wpnonce_epkb_ajax_action:epkb_vars.nonce,delete_text:n.find('input[name="epkb_delete_text"]').val()},function(t){t.error||void 0===t.message||(!function(t,n=""){e(".eckb-bottom-notice-message").remove(),e("body").append(a(n,t,"success")),setTimeout(function(){e(".eckb-bottom-notice-message").addClass("fadeOutDown")},1e4)}(t.message),_.find(".epkb-delete-all-data__message").show(),n.hide())})}),_.find("#epkb_toggle_debug").on("click",function(){e(".eckb-top-notice-message").html("");t({action:"epkb_toggle_debug",_wpnonce_epkb_ajax_action:epkb_vars.nonce},function(){location.reload()})}),_.find("#epkb_show_logs").on("click",function(){e(".eckb-top-notice-message").html("");t({action:"epkb_show_logs",_wpnonce_epkb_ajax_action:epkb_vars.nonce},function(){location.reload()})}),_.find("#epkb_reset_logs").on("click",function(){e(".eckb-top-notice-message").html("");t({action:"epkb_reset_logs",_wpnonce_epkb_ajax_action:epkb_vars.nonce},function(){location.reload()})}),_.find("#epkb_enable_advanced_search_debug").on("click",function(){e(".eckb-top-notice-message").html("");t({action:"epkb_enable_advanced_search_debug",_wpnonce_epkb_ajax_action:epkb_vars.nonce},function(){location.reload()})}),_.find("#epkb_reset_sequence").on("click",function(){e(".eckb-top-notice-message").html("");t({action:"epkb_reset_sequence",epkb_kb_id:e("#epkb-list-of-kbs").val(),_wpnonce_epkb_ajax_action:epkb_vars.nonce},function(t){e(".eckb-top-notice-message").remove(),void 0!==t.message&&(o(),e("body").append(t.message)),i()})}),_.find("#epkb_show_sequence").on("click",function(){e(".eckb-top-notice-message").html(""),e(".epkb-show-sequence-wrap").html("");return t({action:"epkb_show_sequence",epkb_kb_id:e("#epkb-list-of-kbs").val(),_wpnonce_epkb_ajax_action:epkb_vars.nonce},function(t){e(".eckb-top-notice-message").remove(),void 0!==t.message&&(o(),e("body").append(t.message),i()),void 0!==t.html&&e(".epkb-show-sequence-wrap").html(t.html)}),!1}),_.find(".featured_img").on("click",function(t){t.preventDefault(),t.stopPropagation(),_.find(".image_zoom").remove();var n,a=e(this).find("img");n=a.length>1?e(a[0]).is(":visible")?e(a[0]).attr("src"):e(a[1]).is(":visible")?e(a[1]).attr("src"):e(a[2]).attr("src"):e(this).find("img").attr("src"),e(this).after('<div id="epkb_image_zoom" class="image_zoom"><img src="'+n+'" class="image_zoom"><span class="close icon_close"></span></div>'),e("html, body").on("click.epkb",function(){e("#epkb_image_zoom").remove(),e("html, body").off("click.epkb")})}),e("#add_on_panels").on("click",".ep_font_icon_info",function(){e(this).parent().find(".ep_font_icon_info_content").toggle()}),e("#search_query_param").on("keyup",function(t){let n=e(this).val();n.match(/^[a-zA-Z0-9-_]*$/)||e(this).val(n.replace(/[^a-zA-Z0-9-_]/g,""))}),e("#epkb-search-query-parameter__form").on("submit",function(n){let a=e(this);return t({action:"eckb_update_query_parameter",_wpnonce_epkb_ajax_action:epkb_vars.nonce,search_query_param:a.find('input[name="search_query_param"]').val(),epkb_kb_id:e("#epkb-list-of-kbs").val()},function(t){e(".eckb-top-notice-message").remove(),void 0!==t.message&&(o(),e("body").append(t.message)),i()}),!1}),e(".epkb-copy-to-clipboard-box-container .epkb-ctc__copy-button").on("click",function(t){t.preventDefault();let n=document.createElement("textarea"),a=e(this).closest(".epkb-copy-to-clipboard-box-container");n.value=a.find(".epkb-ctc__embed-code").text(),n.style.position="fixed",document.body.appendChild(n),n.focus(),n.select(),document.execCommand("copy"),n.remove(),a.find(".epkb-ctc__embed-code").css({opacity:0}),a.find(".epkb-ctc__embed-notification").fadeIn(200),setTimeout(function(){a.find(".epkb-ctc__embed-code").css({opacity:1}),a.find(".epkb-ctc__embed-notification").hide()},1500)});var r=e(".epkb-analytics-page-container");if(r.find(".page-icon").on("click",function(){if(!e(this).closest(".eckb-nav-section").hasClass("epkb-active-nav")){r.find(".eckb-config-content").removeClass("epkb-active-content"),r.find(".eckb-nav-section").removeClass("epkb-active-nav");var t=e(this).attr("id");r.find("#"+t+"-content").addClass("epkb-active-content"),r.find(this).parents(".eckb-nav-section").addClass("epkb-active-nav")}}),e(".epkb-categories-icons").length){e(".epkb-categories-icons__button").on("click",function(){if(!e(this).hasClass("epkb-categories-icons__button--active")){e(".epkb-categories-icons__button").removeClass("epkb-categories-icons__button--active"),e(this).addClass("epkb-categories-icons__button--active"),e(".epkb-categories-icons__tab-body").slideUp("fast");var t=e(this).data("type");e(".epkb-categories-icons__tab-body--"+t).length&&e(".epkb-categories-icons__tab-body--"+t).slideDown("fast"),e("#epkb_head_category_icon_type").val(t)}}),e(".epkb-icon-pack__icon").on("click",function(){e(".epkb-icon-pack__icon").removeClass("epkb-icon-pack__icon--checked"),e(this).addClass("epkb-icon-pack__icon--checked"),e("#epkb_head_category_icon_name").val(e(this).data("key"))}),e(".epkb-category-image__button").on("click",function(t){t.preventDefault();var n=e(this),a=wp.media({title:n.data("title"),library:{type:"image"},multiple:!1}).on("select",function(){var t=a.state().get("selection").first().toJSON();e("#epkb_head_category_icon_image").val(t.id),e(".epkb-category-image__button").removeClass("epkb-category-image__button--no-image"),e(".epkb-category-image__button").addClass("epkb-category-image__button--have-image"),e(".epkb-category-image__button").css({"background-image":"url("+t.url+")"})}).open()}),e("#parent").on("change",function(){var t,n,a=e(this),o=e("#epkb_head_category_template").val(),i=!1;a.find("option").each(function(){e(this).val()==a.val()&&(n=e(this))}),t="-1"==n.val()?1:n.hasClass("level-0")?2:3,"Tabs"==o?2!==t&&(i=!0):"Sidebar"==o?i=!0:t>1&&(i=!0),i?(e(".epkb-categories-icons").hide(),e(".epkb-categories-icons+.epkb-term-options-message").show()):(e(".epkb-categories-icons").show(),e(".epkb-categories-icons+.epkb-term-options-message").hide())});function l(){e("#epkb_font_icon").trigger("click"),e("#epkb_head_category_thumbnail_size").val(e("#epkb_head_category_thumbnail_size").find("option").eq(0).val()),e(".epkb-category-image__button").addClass("epkb-category-image__button--no-image"),e(".epkb-category-image__button").removeClass("epkb-category-image__button--have-image"),e(".epkb-category-image__button").css({"background-image":""}),e("#epkb_head_category_icon_image").val(0),e("div[data-key=ep_font_icon_document]").trigger("click")}e(document).ajaxComplete(function(t,n,a){if(!a)return;let o,i=a.data.split("&");for(o=0;o<i.length;o++)sParameterName=i[o].split("="),"action"===sParameterName[0]&&"add-tag"===sParameterName[1]&&(l(),e("[name=epkb_category_is_draft]").prop("checked",!1),e("html, body").animate({scrollTop:e(".wp-heading-inline").offset().top},300))})}e("#epkb-admin__categories_sorting_link").length&&(e("#epkb-admin__categories_sorting_link").insertAfter(".bulkactions"),e("#epkb-admin__categories_sorting_link").css("display","block")),e(document.body).on("click",".epkb-close-notice",function(){let t=e(this).closest(".eckb-bottom-notice-message");t.addClass("fadeOutDown"),setTimeout(function(){t.html("")},1e3)}),e(document.body).on("click",".eckb-bottom-notice-message__header__close",function(){let t=e(this).closest(".eckb-bottom-notice-message-large");t.addClass("fadeOutDown"),setTimeout(function(){t.html("")},1e3)}),e("#epkb-ajax-in-progress").dialog({resizable:!1,height:70,width:200,modal:!1,autoOpen:!1}).hide(),_.on("click",".epkb__option-tooltip__button",function(){let t="block"==e(this).parent().find(".epkb__option-tooltip__contents").css("display");e(".epkb__option-tooltip__contents").fadeOut(),t||e(this).parent().find(".epkb__option-tooltip__contents").fadeIn()}),_.on("click",".eckb-tooltip-button",function(){e(this).parent().find(".eckb-tooltip-contents").fadeToggle()}),e("body").on("click",".eckb-wizard-accordion .eckb-wizard-option-heading",function(){var t=e(this).closest(".eckb-wizard-accordion"),n=e(this).closest(".eckb-wizard-accordion__body-content"),a=n.hasClass("eckb-wizard-accordion__body-content--active");t.find(".eckb-wizard-accordion__body-content").removeClass("eckb-wizard-accordion__body-content--active"),a||n.addClass("eckb-wizard-accordion__body-content--active")}),e("body").on("click","#eckb-wizard-main-page-preview a, .epkb-wizard-theme-panel-container a, #eckb-wizard-article-page-preview a",!1),e(".epkb-notice-remind").on("click",function(t){t.preventDefault(),e(this).parent().parent().remove()}),e(document).on("click",".epkb-notice-dismiss",function(t){t.preventDefault(),e("#"+e(this).data("notice-id")).slideUp();var n={action:"epkb_dismiss_ongoing_notice",epkb_dismiss_id:e(this).data("notice-id")};e.ajax({type:"POST",dataType:"json",url:ajaxurl,data:n})}),e(document).on("click",".epkb-kb__need-help__after-setup-wizard-dialog .epkb-notice-dismiss",function(){e(e(this).data("target")).slideUp()}),e(".epkb-dialog-box-form .epkb-dbf__close, .epkb-dialog-box-form .epkb-dbf__footer__cancel").on("click",function(){e(this).closest(".epkb-dialog-box-form").toggleClass("epkb-dialog-box-form--active")}),e(".epkb-dialog-box-form .epkb-dbf__footer__accept__btn").on("click",function(){e(this).closest(".epkb-dialog-box-form").find("form").trigger("submit")}),e("body").find(".epkb__header__edit").on("click",function(){e(this).parent().parent().find(".epkb-ts__input-container").slideToggle(),e(this).parent().parent().find(".epkb-ts__action-container").slideToggle(),e(this).parents(".epkb-toggle-setting-container").toggleClass("epkb-toggle-setting-container--active")}),e("body").on("click",".eckb-Q__list__item-container",function(){e(this).find(".eckb-Q__item__question__toggle-icon").toggleClass("epkbfa-plus-square epkbfa-minus-square"),e(this).hasClass("eckb-Q__list__item--active")?e(this).removeClass("eckb-Q__list__item--active"):e(this).addClass("eckb-Q__list__item--active")}),e(".epkb-notification-box-popup__button-confirm").on("click",function(){e(this).attr("data-target").length>0&&e(this).closest(e(this).attr("data-target")).remove()}),e(".epkb-admin__step-cta-box__link[data-target]").on("click",function(){let t=e(this).attr("data-target");void 0!==t&&0!==t.length&&(t=t.split("__"),e('.epkb-admin__top-panel__item[data-target="'+t[0]+'"]').trigger("click"),t.length>1&&setTimeout(function(){e('.epkb-admin__secondary-panel__item[data-target="'+t[1]+'"]').trigger("click")},100))}),i(),e(document).on("click",".epkb-main-page-editor-link a, .epkb-article-page-editor-link a, .epkb-archive-page-editor-link a, .epkb-search-page-editor-link a",function(){return 0==e("[name=editor_backend_mode]:checked").length||0==e("[name=editor_backend_mode]:checked").val()||(e("body").append(`\n\t\t\t<div class="epkb-editor-popup" id="epkb-editor-popup">\n\t\t\t\t<iframe src="${e(this).prop("href")}" ></iframe>\n\t\t\t</div>\n\t\t`),!1)}),e("body").on("click",".epkb-editor-popup",function(e){e.stopPropagation()}),e("body").on("click",function(){e(".epkb-editor-popup").remove()}),e(document).on("click","#eckb-kb-create-demo-data",function(n){n.preventDefault();t({action:"epkb_create_kb_demo_data",epkb_kb_id:e(this).data("id"),_wpnonce_epkb_ajax_action:epkb_vars.nonce},function(t){if(void 0!==t.message)return e(".eckb-bottom-notice-message").remove(),e("body").append(t.message).removeClass("fadeOutDown"),void e("#eckb-wizard-ordering__page input").first().trigger("change")})}),e(document).on("click",".epkb-admin__form .epkb-admin__form-tab",function(){let t=e(this).data("target"),n=e(this).closest(".epkb-admin__form");n.find(".epkb-admin__form-tab").removeClass("epkb-admin__form-tab--active"),n.find(".epkb-admin__form-tab-wrap").removeClass("epkb-admin__form-tab-wrap--active"),e(this).addClass("epkb-admin__form-tab--active"),n.find(".epkb-admin__form-tab-wrap--"+t).addClass("epkb-admin__form-tab-wrap--active"),window.location.hash="#settings__"+t}),e(document).on("click",".epkb-admin__form .epkb-admin__form-tab-content--about-kb .epkb-admin__form-tab-content-desc__link, .epkb-admin__form .epkb-admin__form-tab-content--main-page-about-kb .epkb-admin__form-tab-content-desc__link",function(t){return t.preventDefault(),e('.epkb-admin__form .epkb-admin__form-tab[data-target="editor"]').click(),!1}),e(document).on("click",".epkb-admin__form .epkb-admin__form-tab-content--manage-theme-compat .epkb-admin__form-tab-content-desc__link, .epkb-admin__form .epkb-admin__form-tab-content--layout .epkb-admin__form-tab-content__to-settings-link",function(t){return t.preventDefault(),e('.epkb-admin__form .epkb-admin__form-tab[data-target="general"]').click(),!1}),e(document).on("click",".epkb-admin__form .epkb-admin__form-tab-content--search-box-settings .epkb-admin__form-tab-content-desc__link",function(t){return t.preventDefault(),e('.epkb-admin__form .epkb-admin__form-tab[data-target="main-page"]').click(),e(".epkb-row-module-setting select").each(function(){if("search"===e(this).val())return e(this).closest(".epkb-admin__form-tab-content").get(0).scrollIntoView(),!1}),!1}),e(document).on("click",".epkb-admin__form .eckb-ml-module__search .epkb-admin__form-tab-content-desc__link",function(t){return t.preventDefault(),e('.epkb-admin__form .epkb-admin__form-tab[data-target="search-box"]').click(),e([document.documentElement,document.body]).animate({scrollTop:0},300),!1}),e(".epkb-admin__color-field input").wpColorPicker({change:function(t,n){setTimeout(function(){e(t.target).trigger("change")},50)}}),e(document).on("click",".epkb-admin__kb__form-save__button",c),e(document).on("click",".eckb-conditional-setting-input",function(){let t=e(this).find("input");"radio"===e(t[0]).attr("type")&&(t=e(this).find("input:checked")),t.length||(t=e(this).find("select"));let n=e(this).closest(".epkb-admin__form-tab-content"),a=e(n).data("settings-group")?e(n).find(".eckb-condition-depend__"+t.attr("name")):e(".eckb-condition-depend__"+t.attr("name"));void 0!==a&&("none"!==e(this).css("display")?a.each(function(){let t=e(this).data("dependency-ids");if(void 0===t)return;t=t.split(" ");let a=e(this).data("enable-on-values");if(void 0!==a){a=a.split(" "),e(this).hide();for(let o=0;o<t.length;o++){let i=e(n).data("settings-group")?e(n).find("#"+t[o]):e("#"+t[o]);if(void 0===i||!i.length)continue;let c=e(i).is("select")?i:i.find("input");if("radio"!==c.attr("type")&&"checkbox"!==c.attr("type")||(c=e(i).find("input:checked")),void 0===c||!c.length)continue;let s=e(this).attr("id");if(a.indexOf(c.val())>=0)return e(this).show(),void setTimeout(function(){e(n).data("settings-group")?e(n).find("#"+s).trigger("click"):e("#"+s).trigger("click")},1);setTimeout(function(){e(n).data("settings-group")?e(n).find("#"+s).trigger("click"):e("#"+s).trigger("click")},1)}}}):e(a).hide())}),e(".eckb-conditional-setting-input").trigger("click"),e('.epkb-input[name="article_nav_sidebar_type_left"]').change(function(){"eckb-nav-sidebar-none"!==e(this).val()&&(e("#article_nav_sidebar_type_right2").parent().click(),e(this).click())}),e('.epkb-input[name="article_nav_sidebar_type_right"]').change(function(){"eckb-nav-sidebar-none"!==e(this).val()&&(e("#article_nav_sidebar_type_left2").parent().click(),e(this).click())}),e("body").on("change","#epkb-setting-box__list-tools__other [name=wpml_is_enabled]",function(){e(".eckb-top-notice-message").remove();t({action:"epkb_wpml_enable",_wpnonce_epkb_ajax_action:epkb_vars.nonce,wpml_enable:e(this).prop("checked")?"on":"off",epkb_kb_id:e("#epkb-list-of-kbs").val()},function(t){e(".eckb-top-notice-message").remove(),void 0!==t.message&&(o(),e("body").append(t.message),i()),void 0!==t.html&&e(".epkb-show-sequence-wrap").html(t.html)})}),e(document).on("change",'input[name="preload_fonts"]',function(){e(".eckb-top-notice-message").remove();t({action:"epkb_preload_fonts",_wpnonce_epkb_ajax_action:epkb_vars.nonce,preload_fonts:e(this).prop("checked")?"on":"off"},function(t){e(".eckb-top-notice-message").remove(),void 0!==t.message&&(o(),e("body").append(t.message),i()),void 0!==t.html&&e(".epkb-show-sequence-wrap").html(t.html)})}),e("[data-open-editor-link]").on("click",function(){if("back"==e(this).data("open-editor-link"))return e('.epkb-admin__form-tab[data-target="editor"]').trigger("click"),!1}),e("#editor_backend_mode input").on("change",function(){e(".epkb-admin__kb__form-save__button").trigger("click")}),e("#toc_toggler input").on("change",function(){e(this).prop("checked")?(e("#toc_left0").prop("checked",!0),e("#toc_locations0").prop("checked",!0),e("#toc_right3").prop("checked",!0),e("#toc_locations1, #toc_locations2").prop("checked",!1)):(e("#toc_left3, #toc_content1, #toc_right3").prop("checked",!0),e("#toc_locations input, #toc_locations0").prop("checked",!1))}),e("#toc_toggler input").on("check_toggler",function(){let t=!1;e("#toc_locations input").each(function(){e(this).prop("checked")&&(t=!0)}),e(this).prop("checked",t)}),e(document).on("click","#toc_locations input",function(){let t=e(this),n=e("#"+e(this).prop("value"));e(this).prop("checked");e("#toc_locations input").each(function(){if(e(this).prop("value")==t.prop("value"))return!0;e(this).prop("checked",!1),e("#"+e(this).prop("value")).find("input").last().prop("checked",!0)}),e(this).prop("checked")?e(n).find("input").first().prop("checked",!0):e(n).find("input").last().prop("checked",!0),e("#toc_toggler input").trigger("check_toggler")}),e(document).on("click","#toc_left .epkb-input-container",function(){e(this).find("input:checked").length&&(e("#toc_right3, #toc_content1, #toc_locations0").prop("checked",!0),e("#toc_locations1, #toc_locations2").prop("checked",!1),e("#toc_toggler input").trigger("check_toggler"))}),e(document).on("click","#toc_right .epkb-input-container",function(){e(this).find("input:checked").length&&(e("#toc_left3, #toc_content1, #toc_locations2").prop("checked",!0),e("#toc_locations1, #toc_locations0").prop("checked",!1),e("#toc_toggler input").trigger("check_toggler"))}),e("[data-control-toggler] input").on("change",function(){let t=e(this).closest("[data-control-toggler]").data("control-toggler"),n=e(this).closest("[data-control-toggler]").data("control-disabled-value");e(this).prop("checked")?e("[name='"+t+"']").each(function(){if(e(this).val()!=n)return e(this).prop("checked",!0),!1}):e("[name='"+t+"']").each(function(){if(e(this).val()==n)return e(this).prop("checked",!0),!1})}),e(".epkb-admin__radio-icons input").on("change",function(){let t=e("[data-control-toggler='"+e(this).prop("name")+"'] input");if(0==t.length)return;let n=t.closest("[data-control-toggler]").data("control-disabled-value");t.prop("checked",e(this).val()!=n)}),e("#article-left-sidebar-toggle").length&&0==e("#article-left-sidebar-toggle input").prop("checked")&&e("#article-left-sidebar-toggle").parent().addClass("epkb-sidebar-settings-disabled"),e("#article-right-sidebar-toggle").length&&0==e("#article-right-sidebar-toggle input").prop("checked")&&e("#article-right-sidebar-toggle").parent().addClass("epkb-sidebar-settings-disabled"),e("#article-left-sidebar-toggle input").on("change",function(){e("#article-left-sidebar-toggle input").prop("checked")?e("#article-left-sidebar-toggle").parent().removeClass("epkb-sidebar-settings-disabled"):e("#article-left-sidebar-toggle").parent().addClass("epkb-sidebar-settings-disabled")}),e("#article-right-sidebar-toggle input").on("change",function(){e("#article-right-sidebar-toggle input").prop("checked")?e("#article-right-sidebar-toggle").parent().removeClass("epkb-sidebar-settings-disabled"):e("#article-right-sidebar-toggle").parent().addClass("epkb-sidebar-settings-disabled")}),e(".epkb-admin__form-tab-content-lm__toggler").on("click",function(t){t.stopPropagation(),e(this).closest(".epkb-admin__form-tab-content-learn-more").hasClass("epkb-admin__form-tab-content-learn-more--active")?e(".epkb-admin__form-tab-content-learn-more").removeClass("epkb-admin__form-tab-content-learn-more--active"):(e(".epkb-admin__form-tab-content-learn-more").removeClass("epkb-admin__form-tab-content-learn-more--active"),e(this).closest(".epkb-admin__form-tab-content-learn-more").addClass("epkb-admin__form-tab-content-learn-more--active"))}),e("body").on("click",function(){e(".epkb-admin__form-tab-content-learn-more").removeClass("epkb-admin__form-tab-content-learn-more--active")});let b;e(document).on("click",'input[name="kb_main_page_layout"]',function(){return!e(this).attr("checked")&&(b=e(this),p.addClass("epkb-dialog-box-form--active epkb-kb-main-page-layout--active"),e("#epkb-admin-page-reload-confirmation .epkb-dbf__body").html(epkb_vars.on_kb_main_page_layout),!1)}),e(document).on("click","#epkb-admin-page-reload-confirmation .epkb-dbf__footer__accept__btn",function(){p.hasClass("epkb-kb-main-page-layout--active")&&(b&&b.prop("checked",!0),p.removeClass("epkb-dialog-box-form--active"),c(0,!0))}),e(document).on("click","#epkb-admin-page-reload-confirmation .epkb-dbf__footer__cancel__btn",function(){p.removeClass("epkb-kb-main-page-layout--active")});let k;e(document).on("click",'input[name="templates_for_kb"]',function(){return!e(this).attr("checked")&&(k=e(this),p.addClass("epkb-dialog-box-form--active epkb-template-for-kb--active"),"kb_templates"===e(this).val()?e("#epkb-admin-page-reload-confirmation .epkb-dbf__body").html(epkb_vars.on_kb_templates):e("#epkb-admin-page-reload-confirmation .epkb-dbf__body").html(epkb_vars.on_current_theme_templates),!1)}),e(document).on("click","#epkb-admin-page-reload-confirmation .epkb-dbf__footer__accept__btn",function(){p.hasClass("epkb-template-for-kb--active")&&(k&&k.prop("checked",!0),e("#epkb-admin-page-reload-confirmation").removeClass("epkb-dialog-box-form--active"),c(0,!0))}),e(document).on("click","#epkb-admin-page-reload-confirmation .epkb-dbf__footer__cancel__btn",function(){e("#epkb-admin-page-reload-confirmation").removeClass("epkb-template-for-kb--active")}),e("#epkb-admin__boxes-list__settings input[type=text], #epkb-admin__boxes-list__settings textarea").on("keyup",function(){let t=e(this).prop("name"),n=e(this).val();1!=e("#epkb-admin__boxes-list__settings").find('[name="'+t+'"]').length&&e("#epkb-admin__boxes-list__settings").find('[name="'+t+'"]').each(function(){e(this).val(n)})});let m=["search","categories_articles","recent_articles","faqs"];for(let t=0;t<m.length;t++)e(document).on("change",'[data-settings-group="ml-row"] select',function(){let t=e(this).val();if(function(){let t=[];e('[data-settings-group="ml-row"] select').each(function(){"none"!==e(this).val()&&t.push({row_label:e(this).closest(".epkb-admin__form-tab-content").data("ml-row-label"),module_name:e(this).val()})}),e(".epkb-input-custom-dropdown__option-mark").html("");for(let n=0;n<t.length;n++)e('[data-value="'+t[n].module_name+'"]:not(.epkb-input-custom-dropdown__option--selected)').find(".epkb-input-custom-dropdown__option-mark").html("("+t[n].row_label+")")}(),"none"===t)return;let n=e(this).attr("name"),a=e(".eckb-ml-module__"+t);e(this).closest(".epkb-admin__kb__form").append(a),e('[data-settings-group="ml-row"] select').each(function(){n!==e(this).attr("name")&&e(this).val()===t&&e(this).val("none").trigger("change")})});e('[data-settings-group="ml-row"] select').trigger("change"),e(document).on("click",".epkb-input-custom-dropdown__input",function(t){t.stopPropagation();let n=e(this).closest(".input_container").find(".epkb-input-custom-dropdown__options-list");e(".epkb-input-custom-dropdown__options-list").not(n).hide(),e(n).toggle()}),e(document).on("click",".epkb-input-custom-dropdown__option",function(){let t=e(this).data("value"),n=e(this).closest(".input_container");e(n).find(".epkb-input-custom-dropdown__option").removeClass("epkb-input-custom-dropdown__option--selected"),e(this).addClass("epkb-input-custom-dropdown__option--selected"),e(n).find(".epkb-input-custom-dropdown__options-list").hide(),e(n).find("select").val(t).trigger("change");let a=e(n).find('select option[value="'+t+'"]').html();e(n).find(".epkb-input-custom-dropdown__input span").html(a)}),e(document).on("change",".epkb-input-custom-dropdown select",function(t){let n=e(this).val(),a=e(this).closest(".input_container");e(a).find(".epkb-input-custom-dropdown__option").removeClass("epkb-input-custom-dropdown__option--selected"),e(a).find('.epkb-input-custom-dropdown__option[data-value="'+n+'"]').addClass("epkb-input-custom-dropdown__option--selected");let o=e(a).find('select option[value="'+n+'"]').html();e(a).find(".epkb-input-custom-dropdown__input span").html(o)}),e(document).on("click",function(){e(".epkb-input-custom-dropdown__options-list").hide()}),e(document).on("change","#ml_faqs_kb_id",function(){e('#ml_faqs_category_ids input[type="checkbox"]').each(function(){e(this).prop("checked")&&e(this).prop("checked",!1)}),e(".epkb-ml-faqs-kb-categories").addClass("epkb-hide-elem"),e(".epkb-ml-faqs-kb-categories--"+e(this).val()).removeClass("epkb-hide-elem")}),e(document).on("change",'[name="article_views_counter_enable"]',s),s()});